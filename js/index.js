(()=>{var e={310:function(e){"undefined"!=typeof self&&self,e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t,r){var n=r(24)("wks"),o=r(12),i=r(1).Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=n},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.5.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(4),o=r(11);e.exports=r(6)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(5),o=r(34),i=r(35),s=Object.defineProperty;t.f=r(6)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(10);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports={}},function(e,t,r){var n=r(24)("keys"),o=r(12);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t){e.exports=!1},function(e,t,r){var n=r(1),o=r(2),i=r(3),s=r(19),a=r(20),l=function(e,t,r){var c,u,d,h,f=e&l.F,p=e&l.G,g=e&l.S,m=e&l.P,v=e&l.B,b=p?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,y=p?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});for(c in p&&(r=t),r)d=((u=!f&&b&&void 0!==b[c])?b:r)[c],h=v&&u?a(d,n):m&&"function"==typeof d?a(Function.call,d):d,b&&s(b,c,d,e&l.U),y[c]!=d&&i(y,c,h),m&&w[c]!=d&&(w[c]=d)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(10),o=r(1).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(1),o=r(3),i=r(7),s=r(12)("src"),a=Function.toString,l=(""+a).split("toString");r(2).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,r,a){var c="function"==typeof r;c&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(c&&(i(r,s)||o(r,s,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:a?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(e,t,r){var n=r(36);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(42),o=r(9);e.exports=function(e){return n(o(e))}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(8),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(2),o=r(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(15)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(4).f,o=r(7),i=r(0)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(9);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Math.PI/180;t.default=function(e){return e*n}},function(e,t,r){"use strict";r(30);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(54));e.exports=n.default},function(e,t,r){r(31),r(47),e.exports=r(2).Array.from},function(e,t,r){"use strict";var n=r(32)(!0);r(33)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(8),o=r(9);e.exports=function(e){return function(t,r){var i,s,a=String(o(t)),l=n(r),c=a.length;return l<0||l>=c?e?"":void 0:(i=a.charCodeAt(l))<55296||i>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):i:e?a.slice(l,l+2):s-56320+(i-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(15),o=r(16),i=r(19),s=r(3),a=r(13),l=r(37),c=r(26),u=r(46),d=r(0)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,p,g,m,v){l(r,t,p);var b,y,w,k=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",E="values"==g,S=!1,C=e.prototype,P=C[d]||C["@@iterator"]||g&&C[g],j=P||k(g),T=g?E?k("entries"):j:void 0,I="Array"==t&&C.entries||P;if(I&&(w=u(I.call(new e)))!==Object.prototype&&w.next&&(c(w,x,!0),n||"function"==typeof w[d]||s(w,d,f)),E&&P&&"values"!==P.name&&(S=!0,j=function(){return P.call(this)}),n&&!v||!h&&!S&&C[d]||s(C,d,j),a[t]=j,a[x]=f,g)if(b={values:E?j:k("values"),keys:m?j:k("keys"),entries:T},v)for(y in b)y in C||i(C,y,b[y]);else o(o.P+o.F*(h||S),t,b);return b}},function(e,t,r){e.exports=!r(6)&&!r(17)((function(){return 7!=Object.defineProperty(r(18)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(10);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(38),o=r(11),i=r(26),s={};r(3)(s,r(0)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(5),o=r(39),i=r(25),s=r(14)("IE_PROTO"),a=function(){},l=function(){var e,t=r(18)("iframe"),n=i.length;for(t.style.display="none",r(45).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[s]=e):r=l(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(4),o=r(5),i=r(40);e.exports=r(6)?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,l=0;a>l;)n.f(e,r=s[l++],t[r]);return e}},function(e,t,r){var n=r(41),o=r(25);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(7),o=r(21),i=r(43)(!1),s=r(14)("IE_PROTO");e.exports=function(e,t){var r,a=o(e),l=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>l;)n(a,r=t[l++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(22);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(21),o=r(23),i=r(44);e.exports=function(e){return function(t,r,s){var a,l=n(t),c=o(l.length),u=i(s,c);if(e&&r!=r){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(8),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(1).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(7),o=r(27),i=r(14)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){"use strict";var n=r(20),o=r(16),i=r(27),s=r(48),a=r(49),l=r(23),c=r(50),u=r(51);o(o.S+o.F*!r(53)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,o,d,h=i(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,b=u(h);if(m&&(g=n(g,p>2?arguments[2]:void 0,2)),null==b||f==Array&&a(b))for(r=new f(t=l(h.length));t>v;v++)c(r,v,m?g(h[v],v):h[v]);else for(d=b.call(h),r=new f;!(o=d.next()).done;v++)c(r,v,m?s(d,g,[o.value,v],!0):o.value);return r.length=v,r}})},function(e,t,r){var n=r(5);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(13),o=r(0)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){"use strict";var n=r(4),o=r(11);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){var n=r(52),o=r(0)("iterator"),i=r(13);e.exports=r(2).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(22),o=r(0)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var n=r(0)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=n(r(55)),s=n(r(56)),a=n(r(57)),l=n(r(58)),c=n(r(59)),u=Math.PI,d=Math.max,h=Math.min,f=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.element=t,this.originalHTML=this.element.innerHTML;var n=document.createElement("div"),o=document.createDocumentFragment();n.setAttribute("aria-label",t.innerText),n.style.position="relative",this.container=n,this._letters=(0,s.default)(t,r),this._letters.forEach((function(e){return o.appendChild(e)})),n.appendChild(o),this.element.innerHTML="",this.element.appendChild(n);var a=window.getComputedStyle(this.element),l=a.fontSize,c=a.lineHeight;this._fontSize=parseFloat(l),this._lineHeight=parseFloat(c)||this._fontSize,this._metrics=this._letters.map(i.default);var d=this._metrics.reduce((function(e,t){return e+t.width}),0);this._minRadius=d/u/2+this._lineHeight,this._dir=1,this._forceWidth=!1,this._forceHeight=!0,this._radius=this._minRadius,this._invalidate()}return o(e,[{key:"radius",value:function(e){return void 0!==e?(this._radius=d(this._minRadius,e),this._invalidate(),this):this._radius}},{key:"dir",value:function(e){return void 0!==e?(this._dir=e,this._invalidate(),this):this._dir}},{key:"forceWidth",value:function(e){return void 0!==e?(this._forceWidth=e,this._invalidate(),this):this._forceWidth}},{key:"forceHeight",value:function(e){return void 0!==e?(this._forceHeight=e,this._invalidate(),this):this._forceHeight}},{key:"refresh",value:function(){return this._invalidate()}},{key:"destroy",value:function(){return this.element.innerHTML=this.originalHTML,this}},{key:"_invalidate",value:function(){var e=this;return cancelAnimationFrame(this._raf),this._raf=requestAnimationFrame((function(){e._layout()})),this}},{key:"_layout",value:function(){var e=this,t=this._radius,r=this._dir,n="center "+(-1===r?-t+this._lineHeight:t)/this._fontSize+"em",o=t-this._lineHeight,i=(0,c.default)(this._metrics,o),s=i.rotations,u=i.θ;if(this._letters.forEach((function(t,o){var i=t.style,a=(-.5*u+s[o])*r,l="translateX("+-.5*e._metrics[o].width/e._fontSize+"em) rotate("+a+"deg)";i.position="absolute",i.bottom=-1===r?0:"auto",i.left="50%",i.transform=l,i.transformOrigin=n,i.webkitTransform=l,i.webkitTransformOrigin=n})),this._forceHeight){var d=u>180?(0,a.default)(t,u):(0,a.default)(o,u)+this._lineHeight;this.container.style.height=d/this._fontSize+"em"}if(this._forceWidth){var f=(0,l.default)(t,h(180,u));this.container.style.width=f/this._fontSize+"em"}return this}}]),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return{height:t.height,left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=document.createElement("span"),n=e.innerText.trim();return(t?t(n):[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(n))).map((function(e){var t=r.cloneNode();return t.insertAdjacentHTML("afterbegin"," "===e?"&nbsp;":e),t}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(28));t.default=function(e,t){return e*(1-Math.cos((0,n.default)(t/2)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(28));t.default=function(e,t){return 2*e*Math.sin((0,n.default)(t/2))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(60));t.default=function(e,t){return e.reduce((function(e,r){var o=r.width,i=(0,n.default)(o/t);return{θ:e.θ+i,rotations:e.rotations.concat([e.θ+i/2])}}),{θ:0,rotations:[]})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=180/Math.PI;t.default=function(e){return e*n}}])},611:(e,t)=>{"use strict";function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}!function(){function e(e,t){this.xs=e,this.ys=t,this.ks=this.getNaturalKs(new Float64Array(this.xs.length))}e.prototype.getNaturalKs=function(e){for(var t=this.xs.length-1,n=function(e,t){for(var r=[],n=0;n<e;n++)r.push(new Float64Array(t));return r}(t+1,t+2),o=1;o<t;o++)n[o][o-1]=1/(this.xs[o]-this.xs[o-1]),n[o][o]=2*(1/(this.xs[o]-this.xs[o-1])+1/(this.xs[o+1]-this.xs[o])),n[o][o+1]=1/(this.xs[o+1]-this.xs[o]),n[o][t+1]=3*((this.ys[o]-this.ys[o-1])/((this.xs[o]-this.xs[o-1])*(this.xs[o]-this.xs[o-1]))+(this.ys[o+1]-this.ys[o])/((this.xs[o+1]-this.xs[o])*(this.xs[o+1]-this.xs[o])));return n[0][0]=2/(this.xs[1]-this.xs[0]),n[0][1]=1/(this.xs[1]-this.xs[0]),n[0][t+1]=3*(this.ys[1]-this.ys[0])/((this.xs[1]-this.xs[0])*(this.xs[1]-this.xs[0])),n[t][t-1]=1/(this.xs[t]-this.xs[t-1]),n[t][t]=2/(this.xs[t]-this.xs[t-1]),n[t][t+1]=3*(this.ys[t]-this.ys[t-1])/((this.xs[t]-this.xs[t-1])*(this.xs[t]-this.xs[t-1])),function(e,t){for(var n=e.length,o=0,i=0;o<n&&i<=n;){for(var s=0,a=-1/0,l=o;l<n;l++){var c=Math.abs(e[l][i]);c>a&&(s=l,a=c)}if(0===e[s][i])i++;else{for(r(e,o,s),l=o+1;l<n;l++){var u=e[l][i]/e[o][i];e[l][i]=0;for(var d=i+1;d<=n;d++)e[l][d]-=e[o][d]*u}o++,i++}}for(l=n-1;l>=0;l--){var h=0;for(e[l][l]&&(h=e[l][n]/e[l][l]),t[l]=h,d=l-1;d>=0;d--)e[d][n]-=e[d][l]*h,e[d][l]=0}return t}(n,e)},e.prototype.getIndexBefore=function(e){for(var t=0,r=this.xs.length,n=0;t<r;)n=Math.floor((t+r)/2),this.xs[n]<e&&n!==t?t=n:r=this.xs[n]>=e&&n!==r?n:t;return t+1},e.prototype.at=function(e){var t=this.getIndexBefore(e),r=(e-this.xs[t-1])/(this.xs[t]-this.xs[t-1]),n=this.ks[t-1]*(this.xs[t]-this.xs[t-1])-(this.ys[t]-this.ys[t-1]),o=-this.ks[t]*(this.xs[t]-this.xs[t-1])+(this.ys[t]-this.ys[t-1]);return(1-r)*this.ys[t-1]+r*this.ys[t]+r*(1-r)*(n*(1-r)+o*r)}}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=async e=>{try{const r=await(async e=>{const t=await fetch(e),r=await t.blob();if(!r||!["image/jpeg","image/png","image/gif"].includes(r.type))throw new Error("Blob is null");const n=new FileReader;return new Promise(((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}))})(e),n=e.split("/").pop(),o=await fetch("/wp-json/csek/v2/img-color",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Data:r,fileName:n})}),i=await o.json(),{css_rgb:s}=JSON.parse(i);if(t("Fetched rgb:",s),!s)throw new Error(`Color is null. URL: ${e}`);return s}catch(e){n("[getImageColor]",e)}return"rgb(19,19,19)"},t=(...e)=>{d.siteDebug&&console.log("[CsekCreative]",...e)},n=(...e)=>{d.siteDebug&&console.error("[CsekCreative]",...e)};r(611);const o=e=>{let t=e.length,r=0;const n=[...e];for(;0!==t;)r=a(0,t),t--,[n[t],n[r]]=[n[r],n[t]];return n},i=(e,t,r)=>Math.max(Math.min(e,r),t),s=(e,t,r,n,o)=>{const s=(e-t)/(r-t)*(o-n)+n;return n<o?i(s,n,o):i(s,o,n)},a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l={DEBUG:!0,taglineSroll:!0},c=e=>{const t=e.parentNode;return t?((e,t)=>{let r=[];for(;e;e=e.nextSibling)1==e.nodeType&&e!=t&&r.push(e);return r})(t.firstChild,e):[]};class u{static get isMobile(){return window.innerWidth<=768}constructor(){this.name="BlockController"}invalid(e){return e?(this.log("Block is valid."),!1):(this.log("Block is invalid."),this.isInitialized=!0,!0)}log(...e){this.debug&&d.siteDebug&&t(`[${this.name}]`,...e)}err(...e){this.debug&&d.siteDebug&&n(`[${this.name}]`,...e)}}class d extends u{static siteDebug=!1;isLetsTalkOpen=!1;usingEditor=!1;constructor(...e){super(),this.name="DOMController",this.blockControllers=e,this.debug=!0,this.isInitialized=!1,this.isStarted=!1,this.prepareLoadingPanel(),this.url=new URL(window.location.href),this.basePath=this.url.pathname.split("/").slice(0,-1).join("/");const t=new URLSearchParams(this.url.search),r="/wp-admin"===this.basePath,n="edit"===t.get("action");this.usingEditor=r&&n}addController(e){this.blockControllers.push(e),this.isInitialized&&e.setup(),this.addEventListeners()}prepareLoadingPanel(){const e=document.getElementById("loading");e?this.loadingPanel=e:e||(this.loadingPanel=document.createElement("div"),this.loadingPanel.id="loading",document.body.prepend(this.loadingPanel)),window.addEventListener("beforeunload",(()=>{this.log("unload dom controller...")}))}checkIfLetsTalkRequested(){return"#contact"===window.location.hash&&(this.openLetsTalk(),!0)}prepareLetsTalkScreen(){const e=document.getElementById("lets-talk");if(!e)return this.err("Lets talk screen not found."),!1;const t=document.querySelectorAll(".lets-talk-open");if(!t||0===t.length)return this.err("Lets talk buttons not found."),!1;const r=document.getElementById("lets-talk-close");return r?(this.letsTalkScreen=e,this.letsTalkOpenButtons=t,this.letsTalkCloseButton=r,this.checkIfLetsTalkRequested(),!0):(this.err("Lets talk close button not found."),!1)}hideLoadingPanel(){this.loadingPanel.classList.add("complete")}setup(){!1===this.isStarted&&(this.isStarted=!0),(()=>{const e=document.querySelectorAll(".wp-block-guten-csek-expanding-video-block"),r=document.querySelectorAll(".scroll-fade-away");for(const n of e){const e=n.querySelector(".threshold"),o=n.querySelector(".expanding-video-container");if(!e||!o)continue;window.addEventListener("scroll",(()=>{const i=n.getBoundingClientRect(),s=e.getBoundingClientRect().top;if(parseInt(s.toString())<=0&&l.taglineSroll&&i.bottom>0){o.classList.add("expanded");for(const e of r)e.classList.add("hide");document.body.style.backgroundColor="#131313",l.taglineSroll=!1,t("Expansion threshold reached")}else if(parseInt(s.toString())>0&&!l.taglineSroll){o.classList.remove("expanded");for(const e of r)e.classList.remove("hide");document.body.style.backgroundColor="transparent",l.taglineSroll=!0}}));const i=n.querySelectorAll(".floating-image");for(const e of i){const r=e,n=a(0,1e3),o=a(1e3,3e3),i=2*Math.random()-1;r.style.animationDelay=-n+"ms",r.style.animationDuration=`${o}ms`,Math.random()>.5?r.style.left=`${i}rem`:r.style.right=`${i}rem`,t({randomDelay:n,randomDuration:o,randomXDisplacement:i})}}})(),this.setFeaturedImageColors();for(const e of this.blockControllers)try{e.setup(),this.log("Set up",e.name)}catch(t){this.err("Error setting up:",e.name,t),e.isInitialized=!0}this.addEventListeners(),this.usingEditor?(this.log("Using editor, not showing loading panel."),this.hideLoadingPanel()):this.usingEditor||(this.loadingInterval=window.setInterval((()=>{this.finished()&&(window.clearInterval(this.loadingInterval),this.hideLoadingPanel(),this.log("Finished loading"))}),1e3)),this.isInitialized=!0}addEventListeners(){for(const e of this.blockControllers)try{window.addEventListener("beforeunload",(t=>{this.beforeReload(),e.beforeReload&&e.beforeReload()})),window.addEventListener("scroll",(t=>{const r=window.scrollY;e.scroll&&e.scroll(r)})),e.blocks&&e.blocks.forEach(((t,r)=>{d.isMobile||e.onMouseMove&&(t.addEventListener("mousemove",(t=>{e.onMouseMove&&e.onMouseMove(t,r)})),t.addEventListener("mouseenter",(t=>{e.onMouseMove&&e.onMouseMove(t,r)})))}))}catch(t){this.err(`Error in ${e.name} adding event listeners:`,t)}this.prepareLetsTalkScreen()&&(this.letsTalkOpenButtons.forEach((e=>{e.addEventListener("click",(()=>{this.openLetsTalk()}))})),this.letsTalkCloseButton.addEventListener("click",(()=>{this.closeLetsTalk()}))),window.addEventListener("keydown",(e=>{if(this.log("Key pressed:",e.key),"Escape"===e.key&&this.isLetsTalkOpen&&(this.log("Closing let's talk..."),this.closeLetsTalk(),e.preventDefault()),e.ctrlKey&&console.info("[CsekCreative] (Press Ctrl + D to toggle debug mode)"),e.ctrlKey&&"d"===e.key){const t=!this.debug;this.debugMode=t,console.info("[CsekCreative] Debug mode:",this.debug?"ON":"OFF"),e.preventDefault()}}))}finished(){for(const e of this.blockControllers)if(!e.isInitialized)return this.log(e.name,"not yet initialized..."),!1;return this.isInitialized}openLetsTalk(){this.letsTalkScreen&&(this.letsTalkScreen.classList.add("open"),this.isLetsTalkOpen=!0)}closeLetsTalk(){this.letsTalkScreen&&(this.letsTalkScreen.classList.remove("open"),this.isLetsTalkOpen=!1)}beforeReload(){this.usingEditor||this.loadingPanel.classList.remove("complete")}overrideAllDebug(e){this.debug=e,this.overrideDebug(e,void 0)}overrideDebug(e,t){for(const r of this.blockControllers)t&&r.name!==t||(r.debug=e)}onMouseMove(e,t){}set debugMode(e){d.siteDebug=e,this.debug=e}async setFeaturedImageColors(){await async function(){const t=document.querySelectorAll(".featured-image-color");if(!t||0===t.length)return!1;t.forEach((e=>{e.classList.add("skeleton")}));const r=document.getElementById("featured-image");if(!r||!r.src)return!1;const n=await e(r.src);return t.forEach((e=>{e.style.backgroundColor=n,e.classList.remove("skeleton")})),!0}()}}var h=r(310),f=r.n(h);class p extends u{constructor(e,t){if(super(),this.name="ScrollDownController",!e)throw new Error("Scroll down id not provided");if(!t)throw new Error("Parent scroll target selector not provided");this.scrollDownId=e,this.parentScrollTargetSelector=t}setup(){this.scrollDownElement=document.getElementById(this.scrollDownId),this.parentScrollTarget=document.querySelector(this.parentScrollTargetSelector),this.scrollDownElement&&this.parentScrollTarget?(new(f())(this.scrollDownElement),this.addEventListeners()):this.log("No scroll down element"),this.isInitialized=!0}addEventListeners(){window.addEventListener("scroll",(()=>{}))}scroll(e){this.update()}update(){if(!this.parentScrollTarget||!this.scrollDownElement)return;const e=this.parentScrollTarget.getBoundingClientRect();this.log({bottom:e.bottom}),e.bottom<=0?this.scrollDownElement.style.opacity="0":this.scrollDownElement.style.opacity="1"}onMouseMove(e,t){}}const g=(e,t,r="0")=>{let n=e.toString();if(n.length>=t)return n.slice(n.length-t,t);for(;n.length<t;)n=r+n;return n},m=e=>e.replace(/<\/?[^>]+(>|$)/g,""),v=e=>(new DOMParser).parseFromString(e,"text/html").documentElement.textContent||"";class b extends u{debug=!1;constructor(e){super(),this.name="CarouselController",this.carouselClass=e.startsWith(".")?e:`.${e}`,this.numItems=0,this.blockHeight=0}setup(){if(this.carouselBlock=document.querySelector(this.carouselClass),this.invalid(this.carouselBlock))return;this.carousel=this.carouselBlock.querySelector(".carousel"),this.log("Found carousel"),this.progressNumerator=this.carouselBlock.querySelector(".carousel-slider-progress .start"),this.progressDenominator=this.carouselBlock.querySelector(".carousel-slider-progress .stop"),this.barProgress=this.carouselBlock.querySelector(".carousel-slider-progress .bar .progress"),this.skipButton=this.carouselBlock.querySelector(".carousel-slider-progress .skip");const e=this.carouselBlock.querySelectorAll(".carousel-item");this.numItems=e.length,this.debug=!0,this.addEventListeners(),this.loadScroll(),this.updateScroll(),this.updateDenominator(g(this.numItems,2)),this.updateProgress(),this.isInitialized=!0}addEventListeners(){this.skipButton&&this.skipButton.addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("skip-carousel");t&&(t.scrollIntoView(),window.scrollTo(0,window.scrollY-window.innerHeight))}))}update(){}updateProgress(){if(this.barProgress){const e=this.updateBarProgress(this.barProgress);this.updateNumerator(g(Math.floor(e*this.numItems)+1,2))}}updateNumerator(e){this.progressNumerator&&(this.progressNumerator.innerText=e)}updateDenominator(e){this.progressDenominator&&(this.progressDenominator.innerText=e)}updateBarProgress(e){const t=this.scrollOffset/this.blockHeight;return e.style.width=100*i(t,0,1)+"%",t}scroll(e){this.updateScroll(e)}updateScroll(e){const t=this.carouselBlock?.querySelector(".carousel-slider");if(t&&this.carouselBlock){const r=e||window.scrollY,n=this.carouselBlock.getBoundingClientRect();if(n){const e=this.carouselBlock.offsetTop-window.innerHeight,o=r-e-window.innerHeight;this.log("theScrollOffset:",e,"top:",n.top,"scrollY:",r,"theSliderScrollAmount:",o),t.scrollLeft=o,this.scrollOffset=o,this.updateProgress()}}}loadScroll(){if(!this.carouselBlock||!this.carousel)return;let e=this.carousel.querySelectorAll("li.carousel-item"),t=e.length,r=e[0].offsetWidth,n=e[0].offsetHeight,o=n+1*(t*r-window.innerWidth);this.blockHeight=o-n,this.carouselBlock.style.height=`${o}px`}onMouseMove(e,t){}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof h?t:h,s=Object.create(i.prototype),a=new P(o||[]);return n(s,"_invoke",{value:x(e,r,a)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function f(){}function p(){}var g={};l(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==t&&r.call(v,i)&&(g=v);var b=p.prototype=h.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,s,a){var l=u(e[n],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,a)}))}a(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new w(c(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(b),l(b,a,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function x(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){x(i,n,o,s,a,"next",e)}function a(e){x(i,n,o,s,a,"throw",e)}s(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function P(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function L(e,t,r){return L=M()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&I(o,r.prototype),o},L.apply(null,arguments)}function O(e){var t="function"==typeof Map?new Map:void 0;return O=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return L(e,arguments,T(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),I(n,e)},O(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var _=void 0!==r.g&&"[object global]"==={}.toString.call(r.g);function A(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function q(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function B(e){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e)}function D(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.url,o=r||n;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=o,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(o);if(q(o))return o.replace("http:","https:");if(r)throw new TypeError("“".concat(r,"” is not a valid video id."));throw new TypeError("“".concat(o,"” is not a vimeo.com url."))}var z=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"removeEventListener",i="string"==typeof t?[t]:t;return i.forEach((function(t){e[n](t,r)})),{cancel:function(){return i.forEach((function(t){return e[o](t,r)}))}}},F=void 0!==Array.prototype.indexOf,$="undefined"!=typeof window&&void 0!==window.postMessage;if(!(_||F&&$))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,r=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),n=function(e,t,n){r?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+i()+"."+i()),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function r(e,r){if(!o(e)||!t.call(e,"_id"))throw new TypeError(r+" method called on incompatible receiver "+typeof e)}function i(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",(function(e){if(r(this,"delete"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),n(e.prototype,"get",(function(e){if(r(this,"get"),o(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(e.prototype,"has",(function(e){if(r(this,"has"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(e.prototype,"set",(function(e,t){if(r(this,"set"),!o(e))throw new TypeError("Invalid value used as weak map key");var i=e[this._id];return i&&i[0]===e?(i[1]=t,this):(n(e,this._id,[e,t]),this)})),n(e,"_polyfill",!0),e}()}function o(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:H);var V,U,G=(V=function(e){var t,r,n;n=function(){var e,t,r,n=Object.prototype.toString,o="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function i(e,n){r.add(e,n),t||(t=o(r.drain))}function s(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function a(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,r){var n,o;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=s(n))?o.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function c(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=s(e))?i((function(){var n=new h(r);try{t.call(e,(function(){c.apply(n,arguments)}),(function(){u.apply(n,arguments)}))}catch(e){u.call(n,e)}})):(r.msg=e,r.state=1,r.chain.length>0&&i(a,r))}catch(e){u.call(new h(r),e)}}}function u(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&i(a,t))}function d(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){r(o,e)}),n)}(o)}function h(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),t.chain.push(n),0!==t.state&&i(a,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){c.call(t,e)}),(function(e){u.call(t,e)}))}catch(e){u.call(t,e)}}r=function(){var e,r,n;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,i){n=new o(t,i),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var g=e({},"constructor",p,!1);return p.prototype=g,e(g,"__NPO__",0,!1),e(p,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)}))})),e(p,"reject",(function(e){return new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)}))})),e(p,"all",(function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),s=0;d(t,e,(function(e,t){i[e]=t,++s===o&&r(i)}),n)}))})),e(p,"race",(function(e){var t=this;return"[object Array]"!=n.call(e)?t.reject(TypeError("Not an array")):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");d(t,e,(function(e,t){r(t)}),n)}))})),p},(r=H)[t="Promise"]=r[t]||n(),e.exports&&(e.exports=r[t])},V(U={exports:{}}),U.exports),W=new WeakMap;function Y(e,t,r){var n=W.get(e.element)||{};t in n||(n[t]=[]),n[t].push(r),W.set(e.element,n)}function Q(e,t){return(W.get(e.element)||{})[t]||[]}function X(e,t,r){var n=W.get(e.element)||{};if(!n[t])return!0;if(!r)return n[t]=[],W.set(e.element,n),!0;var o=n[t].indexOf(r);return-1!==o&&n[t].splice(o,1),W.set(e.element,n),n[t]&&0===n[t].length}function J(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function Z(e,t,r){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==r&&(n.value=r);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}var K=["autopause","autoplay","background","byline","color","colors","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return K.reduce((function(t,r){var n=e.getAttribute("data-vimeo-".concat(r));return(n||""===n)&&(t[r]=""===n?1:n),t}),t)}function te(e,t){var r=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=r,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(n,o){if(!q(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var i="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var s in t)t.hasOwnProperty(s)&&(i+="&".concat(s,"=").concat(encodeURIComponent(t[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var t=JSON.parse(a.responseText);if(403===t.domain_status_code)return te(t,r),void o(new Error("“".concat(e,"” is not embeddable.")));n(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},a.onerror=function(){var e=a.status?" (".concat(a.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},a.send()}))}var ne={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,r,n,o,i,s=(o=a,i=M(),function(){var e,t=T(o);if(i){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function a(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;return S(this,a),j(N(r=s.call(this)),"logger",void 0),j(N(r),"speedAdjustment",0),j(N(r),"adjustSpeed",function(){var e=E(k().mark((function e(t,n){var o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.speedAdjustment!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.getPlaybackRate();case 4:return e.t0=e.sent,e.t1=r.speedAdjustment,e.t2=e.t0-e.t1,e.t3=n,o=e.t2+e.t3,r.log("New playbackRate:  ".concat(o)),e.next=12,t.setPlaybackRate(o);case 12:r.speedAdjustment=n;case 13:case"end":return e.stop()}}),e)})));return function(_x,t){return e.apply(this,arguments)}}()),r.logger=o,r.init(t,e,w(w({},ne),n)),r}return P(a,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(n=E(k().mark((function e(t,r,n){var o,i,s,a=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForTOReadyState(t,"open");case 2:if("viewer"!==n.role){e.next=10;break}return e.next=5,this.updatePlayer(t,r,n);case 5:o=z(t,"change",(function(){return a.updatePlayer(t,r,n)})),i=this.maintainPlaybackPosition(t,r,n),this.addEventListener("disconnect",(function(){i.cancel(),o.cancel()})),e.next=14;break;case 10:return e.next=12,this.updateTimingObject(t,r);case 12:s=z(r,["seeked","play","pause","ratechange"],(function(){return a.updateTimingObject(t,r)}),"on","off"),this.addEventListener("disconnect",(function(){return s.cancel()}));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"updateTimingObject",value:(r=E(k().mark((function e(t,r){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,r.getCurrentTime();case 3:return e.t1=e.sent,e.next=6,r.getPaused();case 6:if(!e.sent){e.next=10;break}e.t2=0,e.next=13;break;case 10:return e.next=12,r.getPlaybackRate();case 12:e.t2=e.sent;case 13:e.t3=e.t2,e.t4={position:e.t1,velocity:e.t3},e.t0.update.call(e.t0,e.t4);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"updatePlayer",value:(t=E(k().mark((function e(t,r,n){var o,i,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.query(),i=o.position,s=o.velocity,"number"==typeof i&&r.setCurrentTime(i),"number"!=typeof s){e.next=25;break}if(0!==s){e.next=11;break}return e.next=6,r.getPaused();case 6:if(e.t0=e.sent,!1!==e.t0){e.next=9;break}r.pause();case 9:e.next=25;break;case 11:if(!(s>0)){e.next=25;break}return e.next=14,r.getPaused();case 14:if(e.t1=e.sent,!0!==e.t1){e.next=19;break}return e.next=18,r.play().catch(function(){var e=E(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NotAllowedError"!==t.name||!n.autoPlayMuted){e.next=5;break}return e.next=3,r.setMuted(!0);case 3:return e.next=5,r.play().catch((function(e){return console.error("Couldn't play the video from TimingSrcConnector. Error:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:this.updatePlayer(t,r,n);case 19:return e.next=21,r.getPlaybackRate();case 21:if(e.t2=e.sent,e.t3=s,e.t2===e.t3){e.next=25;break}r.setPlaybackRate(s);case 25:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function(e,t,r){var n=this,o=r.allowedDrift,i=r.maxAllowedDrift,s=r.minCheckInterval,a=r.maxRateAdjustment,l=r.maxTimeToCatchUp,c=1e3*Math.min(l,Math.max(s,i)),u=function(){var r=E(k().mark((function r(){var s,c,u,d,h;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=0===e.query().velocity,r.t0){r.next=6;break}return r.next=4,t.getPaused();case 4:r.t1=r.sent,r.t0=!0===r.t1;case 6:if(!r.t0){r.next=8;break}return r.abrupt("return");case 8:return r.t2=e.query().position,r.next=11,t.getCurrentTime();case 11:if(r.t3=r.sent,s=r.t2-r.t3,c=Math.abs(s),n.log("Drift: ".concat(s)),!(c>i)){r.next=22;break}return r.next=18,n.adjustSpeed(t,0);case 18:t.setCurrentTime(e.query().position),n.log("Resync by currentTime"),r.next=29;break;case 22:if(!(c>o)){r.next=29;break}return h=(u=c/l)<(d=a)?(d-u)/2:d,r.next=28,n.adjustSpeed(t,h*Math.sign(s));case 28:n.log("Resync by playbackRate");case 29:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),d=setInterval((function(){return u()}),c);return{cancel:function(){return clearInterval(d)}}}},{key:"log",value:function(e){var t;null===(t=this.logger)||void 0===t||t.call(this,"TimingSrcConnector: ".concat(e))}},{key:"waitForTOReadyState",value:function(e,t){return new Promise((function(r){!function n(){e.readyState===t?r():e.addEventListener("readystatechange",n,{once:!0})}()}))}}]),a}(O(EventTarget)),ie=new WeakMap,se=new WeakMap,ae={},le=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!function(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!q(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(ie.has(t))return ie.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var i=new G((function(e,o){if(r._onMessage=function(t){if(q(t.origin)&&r.element.contentWindow===t.source){"*"===r.origin&&(r.origin=t.origin);var n=J(t.data);if(n&&"error"===n.event&&n.data&&"ready"===n.data.method){var i=new Error(n.data.message);return i.name=n.data.name,void o(i)}var s=n&&"ready"===n.event,a=n&&"ping"===n.method;if(s||a)return r.element.setAttribute("data-ready","true"),void e();!function(e,t){var r,n=[];if((t=J(t)).event)"error"===t.event&&Q(e,t.data.method).forEach((function(r){var n=new Error(t.data.message);n.name=t.data.name,r.reject(n),X(e,t.data.method,r)})),n=Q(e,"event:".concat(t.event)),r=t.data;else if(t.method){var o=function(e,t){var r=Q(e,t);if(r.length<1)return!1;var n=r.shift();return X(e,t,n),n}(e,t.method);o&&(n.push(o),r=t.value)}n.forEach((function(t){try{if("function"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}}))}(r,n)}},r._window.addEventListener("message",r._onMessage),"IFRAME"!==r.element.nodeName){var i=ee(t,n);re(D(i),i,t).then((function(e){var n,o,i,s=te(e,t);return r.element=s,r._originalElement=t,n=t,o=s,i=W.get(n),W.set(o,i),W.delete(n),ie.set(r.element,r),e})).catch(o)}}));if(se.set(this,i),ie.set(this.element,this),"IFRAME"===this.element.nodeName&&Z(this,"ping"),ae.isEnabled){var s=function(){return ae.exit()};this.fullscreenchangeHandler=function(){ae.isFullscreen?Y(r,"event:exitFullscreen",s):X(r,"event:exitFullscreen",s),r.ready().then((function(){Z(r,"fullscreenchange",ae.isFullscreen)}))},ae.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var t;return P(e,[{key:"callMethod",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new G((function(n,o){return t.ready().then((function(){Y(t,e,{resolve:n,reject:o}),Z(t,e,r)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new G((function(r,n){return e=A(e,"get"),t.ready().then((function(){Y(t,e,{resolve:r,reject:n}),Z(t,e)})).catch(n)}))}},{key:"set",value:function(e,t){var r=this;return new G((function(n,o){if(e=A(e,"set"),null==t)throw new TypeError("There must be a value to set.");return r.ready().then((function(){Y(r,e,{resolve:n,reject:o}),Z(r,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===Q(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),Y(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");X(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=se.get(this)||new G((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return G.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return ae.isEnabled?ae.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return ae.isEnabled?ae.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return ae.isEnabled?G.resolve(ae.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new G((function(t){if(se.delete(e),ie.delete(e.element),e._originalElement&&(ie.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var r=e.element.querySelector("iframe");r&&r.parentNode&&(r.parentNode.parentNode&&e._originalElement&&e._originalElement!==r.parentNode?r.parentNode.parentNode.removeChild(r.parentNode):r.parentNode.removeChild(r))}e._window.removeEventListener("message",e._onMessage),ae.isEnabled&&ae.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return G.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new G((function(e,t){return t(new TypeError("Argument must be an array."))}));var t=new G((function(e){return e(null)})),r=[e[0]?this.set("colorOne",e[0]):t,e[1]?this.set("colorTwo",e[1]):t,e[2]?this.set("colorThree",e[2]):t,e[3]?this.set("colorFour",e[3]):t];return G.all(r)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:(t=E(k().mark((function e(t,r){var n,o=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return e.next=4,this.ready();case 4:return n=new oe(this,t,r),Z(this,"notifyTimingObjectConnect"),n.addEventListener("disconnect",(function(){return Z(o,"notifyTimingObjectDisconnect")})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(_x,e){return t.apply(this,arguments)})}]),e}();_||(ae=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=t.length,o={};r<n;r++)if((e=t[r])&&e[1]in document){for(r=0;r<e.length;r++)o[t[0][r]]=e[r];return o}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},r={request:function(t){return new Promise((function(n,o){var i=function e(){r.off("fullscreenchange",e),n()};r.on("fullscreenchange",i);var s=(t=t||document.documentElement)[e.requestFullscreen]();s instanceof Promise&&s.then(i).catch(o)}))},exit:function(){return new Promise((function(t,n){if(r.isFullscreen){var o=function e(){r.off("fullscreenchange",e),t()};r.on("fullscreenchange",o);var i=document[e.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else t()}))},on:function(e,r){var n=t[e];n&&document.addEventListener(n,r)},off:function(e,r){var n=t[e];n&&document.removeEventListener(n,r)}};return Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),r}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),r=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=ee(e);re(D(t),t,e).then((function(t){return te(t,e)})).catch(r)}catch(e){r(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",(function(t){if(q(t.origin)&&t.data&&"spacechange"===t.data.event)for(var r=e.querySelectorAll("iframe"),n=0;n<r.length;n++)if(r[n].contentWindow===t.source){r[n].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}})))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",(function(t){if(q(t.origin)){var r=J(t.data);if(r&&"ready"===r.event)for(var n=e.querySelectorAll("iframe"),o=0;o<n.length;o++){var i=n[o],s=i.contentWindow===t.source;B(i.src)&&s&&new le(i).callMethod("appendVideoMetadata",window.location.href)}}})))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))};window.addEventListener("message",(function(r){if(q(r.origin)){var n=J(r.data);if(n&&"ready"===n.event)for(var o=e.querySelectorAll("iframe"),i=function(){var e=o[s],n=e.contentWindow===r.source;if(B(e.src)&&n){var i=new le(e);i.getVideoId().then((function(e){var t=new RegExp("[?&]vimeo_t_".concat(e,"=([^&#]*)")).exec(window.location.href);if(t&&t[1]){var r=decodeURI(t[1]);i.setCurrentTime(r)}})).catch(t)}},s=0;s<o.length;s++)i()}}))}}());const ce=le;class ue{constructor(e,t=640,r=360,n=!1){this.vimeoURL=e,this.width=t,this.height=r,this.autoplay=n,this.apiResponseData=null}log(...e){t("[VimeoVideo]",...e)}createPlayer(e){if(!this.apiResponseData)return null;const t={id:this.apiResponseData.video_id,width:this.width,loop:!1,colors:[void 0,void 0,void 0,"#131313"]};return new ce(e,t)}get thumbnail(){const e=document.createElement("img");return e.src=this.apiResponseData?.thumbnail_url||"",e.width=this.width,e.height=this.height,e.alt=this.apiResponseData?.title||"",e}async updateVideoData(){return this.log("Updating video data"),this.apiResponseData?(this.log("Video data already fetched"),this.apiResponseData):(this.apiResponseData=await ue.fetchVideoData(this.vimeoURL,this.width,this.height),this.log("Video data fetched: ",this.apiResponseData),this.apiResponseData)}static async fetchVideoData(e,t=640,r=360){try{const n=await fetch(`https://vimeo.com/api/oembed.json?url=${encodeURI(e)}&width=${t}&height=${r}&responive=true&playsinline=false`);return await n.json()}catch(e){return console.error(e),null}}static async getThumbnailURL(e,t=640,r=360){const n=await ue.fetchVideoData(e);return n?n.thumbnail_url:null}}class de extends u{debug=!1;constructor(e){if(super(),this.name="VideoCarouselController",!e)throw new Error("Video carousel class name not provided");"."===e[0]&&(e=e.slice(1)),this.videoCarouselClassName=e,this.activeIndex=0,this.vimeoVideos=[]}setup(){this.debug=!0,this.videoCarousel=document.querySelector(`.${this.videoCarouselClassName}`),this.invalid(this.videoCarousel)?this.log("No video carousel found."):(this.log("Found video carousel"),this.videoDialog=document.getElementById("video-player"),this.videoStrip=this.videoCarousel.querySelector(".video-strip"),this.progressNumerator=this.videoCarousel.querySelector(".video-carousel-slider-progress .start"),this.progressDenominator=this.videoCarousel.querySelector(".video-carousel-slider-progress .stop"),this.barProgress=this.videoCarousel.querySelector(".video-carousel-slider-progress .bar .progress"),this.videoDialog||this.log("Could not find video dialog"),this.videoStrip||this.log("Could not find video strip"),this.progressNumerator||this.log("Could not find progress numerator"),this.progressDenominator||this.log("Could not find progress denominator"),this.barProgress||this.log("Could not find bar progress"),this.videoDialog&&this.progressNumerator&&this.progressDenominator&&this.barProgress&&(this.videoBlocks=this.videoCarousel.querySelectorAll(".video-block"),this.numItems=this.videoBlocks?.length,this.progressDenominator.innerText=g(this.numItems,2),this.prepareThumbnails(),this.log("Found video dialog"),this.log("Found video strip"),this.log("Found progress numerator"),this.log("Found progress denominator"),this.log("Found bar progress"),this.addEventListeners(),this.log("Setup complete"),this.isInitialized=!0))}addEventListeners(){if(!this.videoCarousel)return;const e=this.videoCarousel.querySelector(".video-carousel-slider-progress .prev"),t=this.videoCarousel.querySelector(".video-carousel-slider-progress .next");this.videoPlayButton=this.videoCarousel.querySelector(`.video-block:nth-child(${this.activeIndex+1}) .video-playbutton`),this.videoCloseButton=document.body.querySelector(".close-dialog"),e?(this.log("prev button found"),e.addEventListener("click",(e=>{e.preventDefault(),this.prev(),this.update(),this.log("prev")}))):this.log("prev button not found"),t?(this.log("next button found"),t.addEventListener("click",(e=>{e.preventDefault(),this.next(),this.update(),this.log("next")}))):this.log("next button not found"),this.videoCloseButton?(this.log("close dialog button found"),this.videoCloseButton.addEventListener("click",(e=>{e.preventDefault(),this.log("close dialog button clicked"),this.closeVideoPlayer()}))):this.log("close dialog button not found"),this.update()}async prepareThumbnails(){if(!this.videoBlocks)return;this.log("Preparing thumbnails...");let e=0;for(const n of this.videoBlocks){const o=n.querySelector(".vimeo-thumbnail[data-vimeo-url]");if(o){var t;const n=null!==(t=o.getAttribute("data-vimeo-url"))&&void 0!==t?t:"",i=new ue(n,1920,1080,!1);if(this.vimeoVideos[e]=i,await i.updateVideoData(),this.log("video data updated:",{...i.apiResponseData}),""===o.getAttribute("src")){var r;const e=null!==(r=i.apiResponseData?.thumbnail_url)&&void 0!==r?r:"";o.setAttribute("src",e)}}else this.log("vimeo data not found");e++}}update(){this.log("active index:",this.activeIndex),this.videoStrip&&this.videoCarousel&&(this.videoStrip.style.transform=`translateX(-${100*this.activeIndex}vw)`,this.updateNumerator(g(this.activeIndex+1,2)),this.updateBarProgress(),this.updateVideoPlayer(),this.updatePlayButton())}prev(){this.activeIndex=(this.activeIndex-1+this.numItems)%this.numItems}next(){this.activeIndex=(this.activeIndex+1)%this.numItems}updateNumerator(e){this.progressNumerator&&(this.progressNumerator.innerText=e)}updateDenominator(e){this.progressDenominator&&(this.progressDenominator.innerText=e)}updatePlayButton(){if(this.videoPlayButton&&this.videoCarousel){this.log("updating current play button...");const e=`.video-block:nth-child(${this.activeIndex+1}) .video-playbutton`;this.log("button selector:",e),this.videoPlayButton=this.videoCarousel.querySelector(e),this.videoPlayButton?(this.log("video play button found"),this.videoPlayButton.addEventListener("click",(e=>{e.preventDefault(),this.log("video play button clicked"),this.openVideoPlayer()}))):this.log("updated play button not found")}else this.log("could not find play button")}updateBarProgress(){if(this.barProgress){const e=this.activeIndex/(this.numItems-1);this.barProgress.style.width=100*i(e,0,1)+"%"}}updateVideoPlayer(){if(this.videoDialog){const t=this.videoDialog.querySelector(".player");if(!t)return;t.innerHTML="";const r=this.vimeoVideos[this.activeIndex];var e;if(r)t.innerHTML=null!==(e=r.apiResponseData?.html)&&void 0!==e?e:"",this.currentVimeoPlayer=r.createPlayer(t);else if(!r){const e=document.createElement("video"),r=this.videoStrip?.querySelector(`.video-block:nth-child(${this.activeIndex+1}) video source`)?.cloneNode(!0);e&&r&&(e.appendChild(r),t.appendChild(e),this.log("video updated"))}this.videoDialog.addEventListener("close",(()=>{t.innerHTML=""}))}}openVideoPlayer(){if(this.update(),this.videoDialog){this.videoDialog.classList.add("open");const e=this.videoDialog.querySelector("video");e?(e.play(),this.log("video playing")):this.currentVimeoPlayer?(this.currentVimeoPlayer.play(),this.log("vimeo video playing")):this.log("no video found")}}closeVideoPlayer(){this.update(),this.videoDialog&&this.videoDialog.classList.remove("open")}onMouseMove(e,t){}}class he extends u{debug=!1;static scrollThreshold=150;constructor(e){super(),this.name="ExpandingVideoController",this.blockClassName=e}setup(){const e=document.querySelector(this.blockClassName);this.invalid(e)?this.log("No expanding video block found."):(this.expandingVideos=e?.querySelectorAll(".expanding-video-container"),this.invalid(this.expandingVideos.length>0)?this.log("No expanding videos found."):(this.log(`Found ${this.expandingVideos.length} expanding videos`),this.floatingImages=e?.querySelectorAll(".floating-image"),this.floatingImages.forEach((e=>{e.style.animationDelay=`${a(100,750)}ms`})),this.addScrollEventListener(),this.isInitialized=!0))}expandVideo(e){this.log("Expanding video..."),e.classList.add("expanded");const t=c(e);0!==t.length?t.forEach((e=>{e.classList.add("disappear")})):this.log("No siblings found")}retractVideo(e){e.classList.remove("expanded");const t=c(e);0!==t.length?t.forEach((e=>e.classList.remove("disappear"))):this.log("No siblings found")}onScroll(e){0!==this.expandingVideos.length&&this.expandingVideos.forEach((e=>{const t=e.parentElement;t&&(t.getBoundingClientRect().top<=he.scrollThreshold?this.expandVideo(e):this.retractVideo(e))}))}addScrollEventListener(){window.addEventListener("scroll",(()=>{const e=window.scrollY;this.onScroll(e)}))}onMouseMove(e,t){}}class fe{static wordSpacing=64;fadeInAmt=0;fadeOutAmt=1;activeWord="";oldWord="";constructor(e,t){if(this.mq=e,this.words=o(t),this.mq.separator){this.words=[];for(const e of o(t))this.words.push(e),this.words.push(this.mq.separator)}const r=this.calculateDimensions();this.width=r.w,this.height=r.h,this.acc=r.acc,this.dec=r.dec}calculateDimensions(){return this.words.reduce(((e,t)=>{const r=this.mq.textDimensions(t);return{w:e.w+r.w+fe.wordSpacing,h:Math.max(e.h,r.h),acc:Math.max(e.acc,r.acc),dec:Math.max(e.dec,r.dec)}}),{w:0,h:0,acc:0,dec:0})}update(){this.activeWord!==this.mq.activeWord&&(this.oldWord=this.activeWord,this.activeWord=this.mq.activeWord,this.fadeInAmt=0,this.fadeOutAmt=1),this.fadeInAmt+=.1,this.fadeOutAmt-=.1,this.fadeInAmt>1&&(this.fadeInAmt=1),this.fadeOutAmt<0&&(this.fadeOutAmt=0)}draw(e=0,t=0){let r=0;for(let n=0;n<this.words.length;n++){const o=this.words[n];this.mq.text(o,e+r,t,ge.lightColor),o===this.activeWord?(this.mq.ctx.globalAlpha=this.fadeInAmt,this.mq.text(o,e+r,t,ge.darkColor)):o===this.oldWord&&(this.mq.ctx.globalAlpha=this.fadeOutAmt,this.mq.text(o,e+r,t,ge.darkColor)),this.mq.ctx.globalAlpha=1,r+=this.mq.textDimensions(o).w+fe.wordSpacing}}clone(){return new fe(this.mq,[...this.words])}}class pe{offset=0;constructor(e,t){this.mq=e,this.words=t;const r=new fe(e,t);this.strips=[r],this.numberOfStrips=Math.ceil(this.mq.width/r.width);for(let e=1;e<this.numberOfStrips;e++){const e=r.clone();this.strips.push(e)}this.width=this.calculateWidth(),this.height=r.height,this.acc=r.acc,this.dec=r.dec}calculateWidth(){return this.strips.reduce(((e,t)=>e+t.width),0)}update(e){this.offset+=e*ge.scrollSpeed;for(const e of this.strips)e.update()}draw(e=0,t=0){let r=0;for(let n=0;n<this.numberOfStrips;n++){const o=this.strips[n];o.draw(e+r+this.offset,t),r+=o.width}}clone(){return new pe(this.mq,[...this.words])}}class ge{static scrollSpeed=1;static lightColor="#e9ebea";static darkColor="#131313";direction=1;constructor(e,t,r){this.mq=e,this.words=t,r&&(this.direction=r),this.primaryRibbon=new pe(e,t),this.primaryRibbon.offset=Math.random()*this.primaryRibbon.width*this.direction,this.secondaryRibbon=this.primaryRibbon.clone(),this.direction?this.moveRibbonBehind(this.secondaryRibbon,this.primaryRibbon):this.moveRibbonAhead(this.secondaryRibbon,this.primaryRibbon)}get width(){return this.primaryRibbon.width+this.secondaryRibbon.width}get height(){return this.primaryRibbon.height}get acc(){return this.primaryRibbon.acc}get dec(){return this.primaryRibbon.dec}update(){switch(this.primaryRibbon.update(this.direction),this.secondaryRibbon.update(this.direction),this.direction){case 1:this.primaryRibbon.offset>=this.mq.width&&(this.log("Moving primary ribbon behind"),this.moveRibbonBehind(this.primaryRibbon,this.secondaryRibbon)),this.secondaryRibbon.offset>=this.mq.width&&(this.log("Moving secondary ribbon behind"),this.moveRibbonBehind(this.secondaryRibbon,this.primaryRibbon));break;case-1:this.primaryRibbon.offset<=-this.primaryRibbon.width&&(this.log("Moving primary ribbon ahead"),this.moveRibbonAhead(this.primaryRibbon,this.secondaryRibbon)),this.secondaryRibbon.offset<=-this.secondaryRibbon.width&&(this.log("Moving secondary ribbon ahead"),this.moveRibbonAhead(this.secondaryRibbon,this.primaryRibbon))}}draw(e=0,t=0){this.primaryRibbon.draw(e,t),this.secondaryRibbon.draw(e,t)}moveRibbonBehind(e,t){e.offset=t.offset-e.width}moveRibbonAhead(e,t){e.offset=t.offset+t.width}reset(){this.primaryRibbon.offset=0,this.secondaryRibbon.offset=0,1===this.direction?this.moveRibbonBehind(this.secondaryRibbon,this.primaryRibbon):this.moveRibbonAhead(this.secondaryRibbon,this.primaryRibbon)}log(...e){t("[MarqueeRow]",...e)}}class me{static font="10pt serif";width=100;height=100;rowCount=1;frameCount=0;fontSize=50;fontFamily="Syne";backgroundColor="transparent";lineColor=ge.lightColor;lineWidth=.9;rows=[];activeWord="";_words=[];constructor(e,t,r,n){this.parent=e,t&&(this.width=t),r&&(this.height=r),n&&(this.rowCount=n),this.canvas=me.createHiDPICanvas(this.width,this.height,me.PIXEL_RATIO),this.ctx=this.canvas.getContext("2d");const o=this.width*this.lineWidth;this.lineStart=(this.width-o)/2,this.lineEnd=this.width-this.lineStart}set words(e){this.log("Setting words in marquee..."),this._words=e}get words(){return this._words}get rowSpace(){return this.height/this.rowCount}get font(){return`${this.fontSize}pt ${this.fontFamily}`}setup(){if(!this.words||0===this.words.length)throw new Error("No words specified");this.rows=[];for(let e=0;e<this.rowCount;e++){const t=new ge(this,this.words,e%2==0?1:-1);this.rows.push(t)}const e=this.words.join(" "),t=this.textDimensions(e),r=t.h;this.spacing=this.spacesAround(r,this.height,this.rowCount,t.acc)}update(){for(let e of this.rows)e.update()}draw(){this.wipe(),this.fill(this.backgroundColor);for(let e=0;e<this.rowCount;e++){const t=this.rows[e];if(t.draw(0,this.spacing[e]),e!==this.rowCount-1){const r=this.spacing[e+1]-this.spacing[e],n=this.spacing[e]+(r-t.acc)/2+t.dec/2;this.drawHorizontalLine(n)}}this.frameCount++}drawFrameCount(){this.text(this.frameCount.toString(),14,21,"lightgreen","14pt serif")}drawHorizontalLine(e){this.ctx.beginPath(),this.ctx.moveTo(this.lineStart,e),this.ctx.lineTo(this.lineEnd,e),this.ctx.strokeStyle=this.lineColor,this.ctx.stroke()}wipe(){this.ctx.clearRect(0,0,this.width,this.height)}fill(e){this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}rect(e,t,r,n,o){this.ctx.strokeStyle=o,this.ctx.strokeRect(e,t,r,n)}text(e,t,r,n,o){this.ctx.fillStyle=n||"black",this.ctx.font=o||this.font,this.ctx.fillText(e,t,r)}textDimensions(e,t){this.ctx.font=t||this.font;const r=this.ctx.measureText(e);return{w:Math.floor(r.width),h:Math.floor(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent),acc:Math.floor(r.actualBoundingBoxAscent),dec:Math.floor(r.actualBoundingBoxDescent)}}spacesAround(e,t,r,n=0){let o=t-e*r;o<0&&(o=0);const i=o/(r+1),s=[];for(let t=0;t<r;t++){const r=i*(t+1)+e*t+n;s.push(r)}return s}resetRows(){for(let e of this.rows)e.reset()}placeCanvas(e=0,t=0){this.canvas.style.position="absolute",this.canvas.style.top=`${t}px`,this.canvas.style.left=`${e}px`,this.parent&&this.parent.appendChild(this.canvas)}static PIXEL_RATIO=(()=>{let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,r=1;return void 0!==e.webkitBackingStorePixelRatio?r=e.webkitBackingStorePixelRatio:void 0!==e.mozBackingStorePixelRatio?r=e.mozBackingStorePixelRatio:void 0!==e.msBackingStorePixelRatio?r=e.msBackingStorePixelRatio:void 0!==e.oBackingStorePixelRatio?r=e.oBackingStorePixelRatio:void 0!==e.backingStorePixelRatio&&(r=e.backingStorePixelRatio),t/r})();static createHiDPICanvas(e,t,r){r||(r=me.PIXEL_RATIO);let n=document.createElement("canvas");return n.width=e*r,n.height=t*r,n.style.width=e+"px",n.style.height=t+"px",n.getContext("2d")?.setTransform(r,0,0,r,0,0),n}log(...e){t("[MarqueeCanvas]",...e)}}class ve extends u{debug=!0;blockClassName=".wp-block-guten-csek-scrolling-projects-block";constructor(e){super(),this.name="ProjectsMarqueeController",this.block=e}setup(){this.invalid(this.block)?this.err("Block not found"):this.block&&(this.prepCanvas(this.block),this.prepObserver(this.block),this.isInitialized=!0)}prepCanvas(e,t){const r=e.querySelector(".projects");r&&(r.style.display="none");const n=e.getBoundingClientRect(),o=n.width,i=n.height;t?t&&(this.projectNames=t):this.getProjectsFromBlock(),fe.wordSpacing=64,this.marquee=new me(e,o,i,3),this.marquee.placeCanvas(0,0),this.marquee.separator="—",this.marquee.words=this.projectNames,this.marquee.setup()}prepObserver(e){this.intersectionObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?this.startMarquee():this.stopMarquee()}))}),{root:null,rootMargin:"0px",threshold:0}),this.intersectionObserver.observe(e)}getProjectsFromBlock(){const e=this.block?.querySelector(".projects");if(this.invalid(e))return void this.err("Projects area not found");const t=e.querySelectorAll(".projects ul li a");if(this.invalid(t))return void this.err("Projects not found");const r=[];for(let e=0;e<t.length;e++){const n=t[e].innerText;n&&(r.includes(n)||r.push(n))}this.projectNames=r}startMarquee(){this.marqueeInterval=window.setInterval((()=>{try{if(!this.block)throw new Error("Block not found");this.marquee.activeWord=this.block.getAttribute("data-project")||"",this.marquee.update(),this.marquee.draw()}catch(e){this.err(e.message,e.stack),this.stopMarquee()}}),32)}stopMarquee(){window.clearInterval(this.marqueeInterval)}onMouseMove(e,t){}}class be{static nextProjectDelayMs=1e4;static retryColorDelayMs=250;static defaultColor="#e9ebea";currentProjectIndex=0;updateProjectIntervalId=-1;fadedOut=!1;constructor(e){this.block=e,this.canvasContainer=e.querySelector(".canvas-container"),this.projectNameHeading=e.querySelector(".selected-project-name"),this.blurb=e.querySelector(".project-blurb"),this.projectImage=e.querySelector(".project-image"),this.viewProjectButton=e.querySelector(".view-button"),this.currentProject={name:"Our Projects",url:new URL("#not-found",window.location.href),imageUrl:new URL("#not-found",window.location.href),color:be.defaultColor},this.marqueeController=new ve(this.canvasContainer)}get blockElements(){return{block:this.block,canvasContainer:this.canvasContainer,projectNameHeading:this.projectNameHeading,blurb:this.blurb,projectImage:this.projectImage,viewProjectButton:this.viewProjectButton}}setup(){this.prepObserver(),this.gatherProjectData(),this.precalculateColors(),this.shuffleProjectOrder(),this.update(),this.marqueeController.setup()}prepObserver(){this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(this.log("Starting scrolling projects block"),this.start()):(this.log("Stopping scrolling projects block"),this.stop())}))}),{root:null,rootMargin:"0px",threshold:0}),this.observer.observe(this.block)}gatherProjectData(){const e=this.block.querySelectorAll(".project-ribbon ul li");if(!e)return void(this.projectData=[]);const t=[],r=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o)continue;const i=o.querySelector("a");if(!i)continue;const s=o.querySelector("img")?.src;if(!s)continue;const a=i.innerHTML;if(t.includes(a))continue;t.push(a);const l=new URL(i.href),c=new URL(s);r.push({name:a,url:l,imageUrl:c,color:be.defaultColor})}this.projectData=r}async precalculateColors(){if(this.projectData)for(const t of this.projectData)try{const r=await e(t.imageUrl.href);t.color=r}catch(e){console.error("Error:",e)}}shuffleProjectOrder(){const e=[],t=new Set;for(;e.length<this.projectData.length;){const r=Math.floor(Math.random()*this.projectData.length);t.has(r)||(t.add(r),e.push(r))}this.randomProjectOrder=e}updateCurrentProject(){if(!this.projectData)return;const e=this.randomProjectOrder[this.currentProjectIndex],t=this.projectData[e];this.currentProject=t}nextProject(){this.currentProjectIndex=(this.currentProjectIndex+1)%this.projectData.length,this.updateCurrentProject()}previousProject(){this.currentProjectIndex=(this.currentProjectIndex-1)%this.projectData.length,this.updateCurrentProject()}update(){this.updateCurrentProject(),this.fadeOut(),this.projectImage.addEventListener("transitionend",(()=>{this.updateShowcasedElements(),this.fadeIn()}))}updateShowcasedElements(){this.canvasContainer.setAttribute("data-project",this.currentProject.name),this.projectNameHeading.innerHTML=this.currentProject.name,this.blurb.style.setProperty("--project-blurb-color",this.currentProject.color),this.projectImage.src=this.currentProject.imageUrl.href,this.viewProjectButton.querySelector("a")?.setAttribute("href",this.currentProject.url.href)}fadeOutProjectImage(){this.projectImage.style.opacity="0"}fadeInProjectImage(){this.projectImage.style.opacity="1"}fadeOut(){this.fadeOutProjectImage(),this.projectNameHeading.style.opacity="0",this.fadedOut=!0}fadeIn(){this.fadeInProjectImage(),this.projectNameHeading.style.opacity="1",this.fadedOut=!1}start(){this.updateProjectIntervalId=window.setInterval((()=>{this.nextProject(),this.update()}),be.nextProjectDelayMs)}stop(){window.clearInterval(this.updateProjectIntervalId)}log(...e){t(`[${this.constructor.name}]`,...e)}}class ye extends u{debug=!0;projectsBlocks=[];constructor(e){if(super(),this.name="ScrollingProjectsController",!e)throw new Error("Scrolling projects block class name not provided");"."===e[0]&&(e=e.slice(1)),this.scrollingProjectsBlockClassName=e}setup(){this.blocks=document.querySelectorAll("."+this.scrollingProjectsBlockClassName),this.invalid(this.blocks.length)?this.log("No scrolling projects block found."):(this.log(`Found ${this.blocks.length} scrolling projects blocks.`),this.blocks.forEach(((e,t)=>{if(!e)return;const r=new be(e);r.setup(),this.projectsBlocks[t]=r})),this.isInitialized=!0)}onMouseMove(e,t){const r=this.projectsBlocks[t];if(!r)return;const{block:n,viewProjectButton:o}=r.blockElements,i=n.getBoundingClientRect(),s=o.getBoundingClientRect(),a=s.width/2,l=s.height/2,c=e.clientX,u=e.clientY;if(c<i.left||c>i.right||u<i.top||u>i.bottom)return;const d=c-i.left,h=u-i.top;o.style.left=`${d}px`,o.style.top=`${h}px`,d<a?o.style.left=`${a}px`:d>i.width-a&&(o.style.left=i.width-a+"px"),h<l?o.style.top=`${l}px`:h>i.height-l&&(o.style.top=i.height-l+"px")}}t("Curtainify.js");class we extends u{constructor(){super(),this.name="CurtainifyController"}setup(){(()=>{const e=document.querySelector(".curtain-reel"),t=document.querySelectorAll(".curtain");if(!e)return;((e,t)=>{e.innerHTML="",t.forEach(((r,n)=>{const o=(e=>{const t=document.createElement("div"),r=e.cloneNode(!0);return t.classList.add("left-curtain"),t.appendChild(r),t})(r),i=(e=>{const t=document.createElement("div"),r=e.cloneNode(!0);return t.classList.add("right-curtain"),t.appendChild(r),t})(r),s=t.length-n,a=o.querySelector("video"),l=i.querySelector("video");a&&l&&(a.addEventListener("timeupdate",(()=>{Math.abs(a.currentTime-l.currentTime)>.1&&(l.currentTime=a.currentTime)})),l.addEventListener("timeupdate",(()=>{Math.abs(l.currentTime-a.currentTime)>.1&&(a.currentTime=l.currentTime)}))),o.style.zIndex=s.toString(),i.style.zIndex=s.toString(),e.appendChild(o),e.appendChild(i)}))})(e,t);const r=document.querySelectorAll(".curtain-reel > *"),n=[];for(let e=0;e<r.length;e++)n.push(r[e].getBoundingClientRect().height);const o=n.reduce(((e,t)=>e+t),0)/2,a=e.firstChild;if(!a)return;const l=a.getBoundingClientRect(),c=l.top,u=(l.bottom,document.createElement("div"));var d,h;u.setAttribute("id","curtain-reel-scroll-mass"),u.classList.add("guten-csek-block"),u.style.zIndex="-1",u.style.height=`${o}px`,u.style.backgroundColor="#131313",d=u,(h=e).parentNode&&h.parentNode.insertBefore(d,h.nextSibling),window.scrollY>c&&window.scrollTo(0,window.scrollY-o);const f=document.querySelectorAll(".left-curtain"),p=document.querySelectorAll(".right-curtain"),g=document.createElement("div");g.classList.add("shadow-block"),g.style.zIndex=(r.length+1).toString(),e.appendChild(g);const m=(e=0)=>{const t=window.scrollY-c-window.innerHeight*e,r=Math.floor(100*i(t/window.innerHeight,0,1))/100;if(e<f.length-1){const t=f[e+1],n=p[e+1],o=s(r,0,1,-.125,0);t.style.transform=`translateZ(${o}rem)`,n.style.transform=`translateZ(${o}rem)`;const i=t.querySelector(".content-block");if(i){const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=document.getElementById("curtain-reel-scroll-mass");t&&(t.style.backgroundColor=e)}}const n=f[e],o=p[e];return n.style.transform=`translateX(-${100*r}%)`,o.style.transform=`translateX(${100*r}%)`,g.style.width=100*r+"%",g.style.background=`radial-gradient(transparent 40%, rgba(0,0,0,${s(r,0,1,.5,0)}) 98%)`,r};let v=window.scrollY,b=i(Math.floor((v-c)/o*(r.length/2)),0,r.length/2-1);const y=e=>{const t=Math.floor(i(window.scrollY-v,-1,1));v=window.scrollY,1===e&&1===t?b++:0===e&&-1===t&&b--,b=i(b,0,f.length-1),b===f.length&&(g.style.visibility="hidden")};window.addEventListener("scroll",(e=>{const t=m(b);y(t)}));const w=m(b);y(w),(e=>{for(let t=0;t<e;t++){const e=f[t],r=p[t];e.style.transform="translateX(-100%)",r.style.transform="translateX(100%)"}})(b)})(),this.isInitialized=!0}beforeReload(){window.scrollTo(0,0)}onMouseMove(e,t){}}class ke extends u{debug=!0;headshotOffsetPx=256;constructor(e){super(),this.name="TeamController",this.blockClassName=null!=e?e:".wp-block-guten-csek-team-block"}setup(){this.block=document.querySelector(this.blockClassName),this.invalid(this.block)?this.err("No block found"):(this.headshots=this.block?.querySelectorAll(".headshot"),this.invalid(this.headshots.length)?this.err("No headshots found"):(this.setupHeadshots(),this.isInitialized=!0))}setupHeadshots(){ke.isMobile||this.headshots.forEach((e=>{parseInt(getComputedStyle(e).width),this.updateHeadshotOffset(e,this.headshotOffsetPx)}))}scroll(){var e,t,r;if(ke.isMobile)return;const n=this.block?.getBoundingClientRect(),o=null!==(e=n?.top)&&void 0!==e?e:0,i=null!==(t=n?.bottom)&&void 0!==t?t:0,a=null!==(r=n?.height)&&void 0!==r?r:0;o<window.innerHeight&&i>0&&this.headshots.forEach((e=>{const t=s(o,window.innerHeight,-a,this.headshotOffsetPx,-this.headshotOffsetPx);this.updateHeadshotOffset(e,t)}))}updateHeadshotOffset(e,t){const r=(e.clientWidth-32)/500;e.style.transform=`translateY(${t*r}px)`}onMouseMove(e,t){}}class xe extends u{constructor(e){if(super(),this.name="NextProjectController",!e)throw new Error("NextProjectController: nextProjectBlockClassName is undefined");this.blockClassname=e}setup(){this.blocks=document.querySelectorAll(this.blockClassname),this.invalid(this.blocks.length>0)?this.log("No next project blocks found"):(this.blocks.forEach(((e,t)=>{this.log(`Prepping NextProjectBlock ${t}...`);const r=e.querySelector("div > div.next-project-image > img"),n=e.querySelector(".image-backing");this.invalid(r)?this.log("No image found"):r&&n?this.updateImageBacking(r,n):this.log("No image or image backing found")})),this.isInitialized=!0)}updateImageBacking(t,r){this.log("Updating image backing..."),e(t.src).then((e=>{r.style.backgroundColor=e}))}onMouseMove(e,t){}}class Ee extends u{constructor(e){if(super(),this.name="FeaturedVideoController",!e)throw new Error("FeaturedVideoController: blockClassName is undefined");this.blockClassName=e}setup(){if(this.debug=!0,this.block=document.querySelector(this.blockClassName),this.invalid(this.block))this.log("No featured video block found:",this.blockClassName);else{if(this.videoShade=this.block?.querySelector(".video-container .video-shade"),this.videoPlayer=this.block?.querySelector(".video-container video"),this.playButton=this.block?.querySelector(".video-container .playbutton"),this.debug=!0,!this.videoShade)return this.log("No video shade found"),void(this.isInitialized=!0);if(!this.videoPlayer)return this.log("No video player found"),void(this.isInitialized=!0);if(!this.playButton)return this.log("No play button found"),void(this.isInitialized=!0);this.addEventListeners(),this.isInitialized=!0}}addEventListeners(){this.log("Adding event listeners..."),this.playButton.addEventListener("click",(()=>{this.hideShade(),this.hidePlayButton(),this.playVideo()})),this.videoPlayer.addEventListener("pause",(()=>{this.showShade(),this.showPlayButton(),this.videoPlayer.controls=!1}))}playVideo(){this.log("Clicked play!"),this.videoPlayer.controls=!0,this.videoPlayer.play()}hideShade(){this.videoShade.style.opacity="0"}hidePlayButton(){this.playButton.style.display="none"}showShade(){this.videoShade.style.opacity="1"}showPlayButton(){this.playButton.style.display="flex"}onMouseMove(e,t){}}class Se extends u{constructor(e){if(super(),this.name="StaffProfilesController",!e)throw new Error("FeaturedVideoController: blockClassName is undefined");this.blockClassName=e}setup(){this.block=document.querySelector(this.blockClassName),this.invalid(this.block)?this.log("No staff profiles block found:",this.blockClassName):(this.staffSummaries=this.block?.querySelectorAll(".staff-summary"),this.addEventListeners(),this.isInitialized=!0)}addEventListeners(){this.staffSummaries?.forEach((e=>{const t=e.querySelector(".staff-profile"),r=t?.querySelector(".close-button");r?.addEventListener("click",(e=>{e.stopPropagation(),t&&t.classList.remove("opened")})),e.addEventListener("click",(()=>{t&&!t.classList.contains("opened")&&t.classList.add("opened")}))}))}onMouseMove(e,t){}}class Ce extends u{static blockClassName="cycling-stack";static animationDurationMS=2500;constructor(){super(),this.name="CyclingStackController"}setup(){this.debug=!0,this.blocks=document.querySelectorAll("."+Ce.blockClassName),this.blocks.forEach((e=>{const t=e.querySelector(".words-list"),r=e.querySelectorAll(".cycling-word");t?.hasAttribute("data-current-index")||t.setAttribute("data-current-index","0");const n=Number(t?.getAttribute("data-current-index"));this.log("Setting up cycling stack. Current index:",n),this.log("Words:",r),r[n].style.animation=`csekSlideAndFadeIn ${Ce.animationDurationMS}ms`})),this.start(),this.isInitialized=!0}revolve(e){const t=e.querySelectorAll(".cycling-word"),r=Number(e.getAttribute("data-current-index"));t[r].style.animation="",t[r].style.opacity="0";const n=(Number(r)+1)%t.length;t[n].style.animation=`csekSlideAndFadeIn ${Ce.animationDurationMS}ms`,e.setAttribute("data-current-index",n.toString())}start(){this.blocks.forEach((e=>{const t=e.querySelector(".words-list");setInterval((()=>{this.revolve(t)}),Ce.animationDurationMS)}))}onMouseMove(e,t){}}const Pe=window.React;var je="-";function Te(e){var t=function(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=function(e,t){return t?e.map((function(e){return[e[0],e[1].map((function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((function(e){var r=e[0],n=e[1];return[t+r,n]}))):e}))]})):e}(Object.entries(e.classGroups),r);return o.forEach((function(e){var r=e[0];Le(e[1],n,r,t)})),n}(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=void 0===n?{}:n;return{getClassGroupId:function(e){var r=e.split(je);return""===r[0]&&1!==r.length&&r.shift(),Ie(r,t)||function(e){if(Me.test(e)){var t=Me.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var n=r[e]||[];return t&&o[e]?[].concat(n,o[e]):n}}}function Ie(e,t){if(0===e.length)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?Ie(e.slice(1),n):void 0;if(o)return o;if(0!==t.validators.length){var i=e.join(je);return t.validators.find((function(e){return(0,e.validator)(i)}))?.classGroupId}}var Me=/^\[(.+)\]$/;function Le(e,t,r,n){e.forEach((function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void Le(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((function(e){var o=e[0];Le(e[1],Oe(t,o),r,n)}))}else(""===e?t:Oe(t,e)).classGroupId=r}))}function Oe(e,t){var r=e;return t.split(je).forEach((function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r}function Ne(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(o,i){r.set(o,i),++t>e&&(t=0,n=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(o(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):o(e,t)}}}var Re="!";function _e(e){var t=e.separator||":",r=1===t.length,n=t[0],o=t.length;return function(e){for(var i,s=[],a=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===a){if(u===n&&(r||e.slice(c,c+o)===t)){s.push(e.slice(l,c)),l=c+o;continue}if("/"===u){i=c;continue}}"["===u?a++:"]"===u&&a--}var d=0===s.length?e:e.substring(l),h=d.startsWith(Re);return{modifiers:s,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:i&&i>l?i-l:void 0}}}var Ae=/\s+/;function qe(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Be(e))&&(n&&(n+=" "),n+=t);return n}function Be(e){if("string"==typeof e)return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=Be(e[n]))&&(r&&(r+=" "),r+=t);return r}function De(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,i,s=function(e){var r=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),r());return n=function(e){return{cache:Ne(e.cacheSize),splitModifiers:_e(e),...Te(e)}}(l),o=n.cache.get,i=n.cache.set,s=a,a(e)};function a(e){var t=o(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(Ae).map((function(e){var t=r(e),o=t.modifiers,i=t.hasImportantModifier,s=t.baseClassName,a=t.maybePostfixModifierPosition,l=n(a?s.substring(0,a):s),c=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=n(s)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)})),t.push.apply(t,r.sort()),t}(o).join(":");return{isTailwindClass:!0,modifierId:i?u+Re:u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,n=e.hasPostfixModifier,s=t+r;return!i.has(s)&&(i.add(s),o(r,n).forEach((function(e){return i.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,n);return i(e,r),r}return function(){return s(qe.apply(null,arguments))}}function ze(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Fe=/^\[(?:([a-z-]+):)?(.+)\]$/i,$e=/^\d+\/\d+$/,He=new Set(["px","full","screen"]),Ve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ge=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function We(e){return Ke(e)||He.has(e)||$e.test(e)||Ye(e)}function Ye(e){return st(e,"length",at)}function Qe(e){return st(e,"size",lt)}function Xe(e){return st(e,"position",lt)}function Je(e){return st(e,"url",ct)}function Ze(e){return st(e,"number",Ke)}function Ke(e){return!Number.isNaN(Number(e))}function et(e){return e.endsWith("%")&&Ke(e.slice(0,-1))}function tt(e){return ut(e)||st(e,"number",ut)}function rt(e){return Fe.test(e)}function nt(){return!0}function ot(e){return Ve.test(e)}function it(e){return st(e,"",dt)}function st(e,t,r){var n=Fe.exec(e);return!!n&&(n[1]?n[1]===t:r(n[2]))}function at(e){return Ue.test(e)}function lt(){return!1}function ct(e){return e.startsWith("url(")}function ut(e){return Number.isInteger(Number(e))}function dt(e){return Ge.test(e)}function ht(){var e=ze("colors"),t=ze("spacing"),r=ze("blur"),n=ze("brightness"),o=ze("borderColor"),i=ze("borderRadius"),s=ze("borderSpacing"),a=ze("borderWidth"),l=ze("contrast"),c=ze("grayscale"),u=ze("hueRotate"),d=ze("invert"),h=ze("gap"),f=ze("gradientColorStops"),p=ze("gradientColorStopPositions"),g=ze("inset"),m=ze("margin"),v=ze("opacity"),b=ze("padding"),y=ze("saturate"),w=ze("scale"),k=ze("sepia"),x=ze("skew"),E=ze("space"),S=ze("translate"),C=function(){return["auto",rt,t]},P=function(){return[rt,t]},j=function(){return["",We]},T=function(){return["auto",Ke,rt]},I=function(){return["","0",rt]},M=function(){return[Ke,Ze]},L=function(){return[Ke,rt]};return{cacheSize:500,theme:{colors:[nt],spacing:[We],blur:["none","",ot,rt],brightness:M(),borderColor:[e],borderRadius:["none","","full",ot,rt],borderSpacing:P(),borderWidth:j(),contrast:M(),grayscale:I(),hueRotate:L(),invert:I(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[et,Ye],inset:C(),margin:C(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:I(),skew:L(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ot]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[rt])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tt]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",tt]}],"grid-cols":[{"grid-cols":[nt]}],"col-start-end":[{col:["auto",{span:["full",tt]},rt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[nt]}],"row-start-end":[{row:["auto",{span:[tt]},rt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",rt,t]}],"min-w":[{"min-w":["min","max","fit",rt,We]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ot]},ot,rt]}],h:[{h:[rt,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",rt,We]}],"max-h":[{"max-h":[rt,t,"min","max","fit"]}],"font-size":[{text:["base",ot,Ye]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ze]}],"font-family":[{font:[nt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Ke,Ze]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rt,We]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",We]}],"underline-offset":[{"underline-offset":["auto",rt,We]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Xe])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Je]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[rt,We]}],"outline-w":[{outline:[We]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[We]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ot,it]}],"shadow-color":[{shadow:[nt]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ot,rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[tt,rt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[We,Ze]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ft=De(ht);const pt=({level:e,text:t,className:r,children:n})=>{const o=n||t||null,i="font-bold m-0 p-0 w-full";switch(e){case"6":return(0,Pe.createElement)("h6",{className:ft(i,"",r)},o);case"5":return(0,Pe.createElement)("h5",{className:ft(i,"",r)},o);case"4":return(0,Pe.createElement)("h4",{className:ft(i,"",r)},o);case"3":return(0,Pe.createElement)("h3",{className:ft(i,"",r)},o);case"2":return(0,Pe.createElement)("h2",{className:ft(i,"",r)},o);default:return(0,Pe.createElement)("h1",{className:ft(i,"underline",r)},o)}},gt=({text:e,className:t,children:r})=>(0,Pe.createElement)(pt,{level:"2",children:r,text:e,className:ft("border-b border-solid border-black pb-px my-2 text-3xl font-syne csek-block-heading",t)}),mt=window.wp.blockEditor,vt=({children:e,className:t})=>(0,Pe.createElement)("div",{className:ft("border border-solid border-zinc-500 rounded p-2 relative w-full",t)},e),bt=({em:e=!1,className:t,children:r})=>e?(0,Pe.createElement)("em",{className:ft("em-label",t)},r):(0,Pe.createElement)("span",{className:ft("em-label",t)},r),yt=({label:e,initialValue:t="",placeholder:r,hint:n,className:o,disabled:i,type:s="text",onChange:a})=>{const[l,c]=(0,Pe.useState)(t);return(0,Pe.createElement)("div",{className:ft("w-full",o)},e?(0,Pe.createElement)(pt,{level:"4"},e):null,n?(0,Pe.createElement)(bt,null,n):null,(0,Pe.createElement)("input",{type:"text",className:ft("w-full rounded border border-solid border-slate-700 px-2 py-1 text-lg","csek-input",e?"mt-2":""),placeholder:r,onChange:e=>{const t=e.target.value;"number"===s&&isNaN(Number(t))||(c(t),a&&a(t))},value:l,disabled:i}))},wt=({label:e,initialValue:t="",placeholder:r,className:n,disabled:o,onChange:i})=>{const[s,a]=(0,Pe.useState)(t);return(0,Pe.createElement)("div",{className:ft("w-full relative",n)},e?(0,Pe.createElement)(pt,{level:"4",className:"mb-2"},e):null,(0,Pe.createElement)("textarea",{className:ft("w-full min-h-fit h-64 rounded border border-solid border-slate-700 px-2 py-1 text-lg","csek-input"),placeholder:r,onChange:e=>{const t=e.target.value;a(t),i&&i(t)},value:s,disabled:o}))},kt=({label:e,initialValue:t="",className:r,hint:n,options:o,placeholder:i,defaultOption:s=0,onChange:a})=>{const[l,c]=(0,Pe.useState)(t);return(0,Pe.createElement)("div",{className:ft("w-full flex flex-col",r)},e?(0,Pe.createElement)(pt,{level:"4"},e):null,n?(0,Pe.createElement)(bt,null,n):null,(0,Pe.createElement)("select",{className:ft("w-full rounded border border-solid border-slate-700 px-2 py-1 text-lg","csek-input",e?"mt-2":""),onChange:e=>{const t=e.target.value;c(t),a&&a(t)},value:l},o.map(((e,t)=>(0,Pe.createElement)("option",{key:e.value,value:e.value,selected:t===s},e.label)))))},xt=window.wp.element,Et=window.wp.components,St=({label:e,className:t,icon:r,onClick:n})=>(0,Pe.createElement)(Et.Button,{onClick:n,icon:r,className:ft("border border-solid py-2 px-4 min-w-[5rem] border-box rounded overflow-hidden border-white hover:none hover:text-slate-300 hover:backdrop-brightness-75 max-w-max",t)},e),Ct=({label:e="Add",className:t,onAdd:r})=>(0,Pe.createElement)(St,{label:e,icon:"plus",onClick:r,className:ft("text-white bg-sky-700",t)}),Pt=({label:e="Delete",className:t,onDelete:r})=>(0,Pe.createElement)(St,{label:e,icon:"trash",onClick:r,className:ft("bg-red-600 text-white",t)}),jt=window.wp.apiFetch;var Tt=r.n(jt);async function It(e,t){try{const r=e&&e.length>0?e.filter((e=>e>-1)):[],n=t&&t.length>0?t.filter((e=>e>-1)):[],o=r.length>0?"&tags="+r.join(","):"",i=n.length>0?"&categories="+n.join(","):"",s=await fetch(`/wp-json/wp/v2/posts?context=view${o}${i}`),a=await s.json(),l=[];for(const e of a){const t=new Nt(e.featured_media);await t.preload(),l.push({id:e.id,url:e.link,slug:e.slug,title:e.title.rendered,categories:e.categories,tags:e.tags,featuredImage:t,readTime:Mt(e.content.rendered)})}return l}catch(e){console.error(e)}return[]}function Mt(e){const t=m(e).split(" ");return Math.ceil(t.length/225)}async function Lt(e){const t=(await async function(){try{const e=await fetch("/wp-json/wp/v2/tags?context=view"),t=await e.json(),r=[];return t.forEach((e=>{r.push({id:e.id,name:e.name,slug:e.slug,description:e.description,url:e.link})})),r}catch(e){console.error(e)}return[]}()).filter((t=>e.tags.includes(t.id))),r=t.filter(((e,t)=>t<2)).map((e=>{const t=document.createElement("a");return t.href=e.url,t.classList.add("chip"),t.innerHTML=e.name,t}));if(t.length>2){const e=t.slice(2).map((e=>v(e.name))).join(", "),n=document.createElement("a");n.href="#",n.classList.add("chip"),n.title=e,n.innerHTML="+"+(t.length-2),r.push(n)}return r}async function Ot(e){const t=document.createElement("div");t.classList.add("related-post");const r=document.createElement("a");r.href=e.url,r.classList.add("post-link");const n=document.createElement("img");e.featuredImage&&(n.classList.add("featured-image"),n.src=e.featuredImage.getSize("large","full"),n.alt=e.featuredImage.altText,r.append(n));const o=document.createElement("div");o.classList.add("text-content");const i=document.createElement("h2");i.classList.add("title");const s=v(e.title).split("|")[0].trim();i.innerText=s;const a=document.createElement("div");a.classList.add("read-time"),a.innerHTML=`${e.readTime} min read`;const l=document.createElement("div");return l.classList.add("tags"),l.append(...await Lt(e)),o.append(i,a),r.append(o),t.append(r,l),t}class Nt{static SIZE_ORDER=["large","medium","thumbnail","full"];constructor(e,t="image",r){this.id=e,this.type=t,r&&(this.alt=r),this.preload()}async preload(){try{const e=await async function(e){return await Tt()({path:`/wp/v2/media/${e}`,method:"GET"})}(this.id);if(this.alt||(this.alt=e.alt_text),"video"===this.type)return void(this._url=e.source_url);const t=e.media_details,r=t.sizes;if(0===Object.keys(r).length)return void(this.sizes={thumbnail:{file:t.file,source_url:e.source_url,width:t.width,height:t.height,filesize:t.filesize,mime_type:e.mime_type}});this.sizes=r}catch(e){n(`[CsekImage] Error: ${e}`)}}async doubleCheckSizes(){this.sizes||await this.preload()}getSize(e,t){if(this.sizes&&this.sizes[e])return this.sizes[e].source_url;if(t&&this.sizes&&this.sizes[t])return this.sizes[t].source_url;const r=Nt.SIZE_ORDER.indexOf(e);return r<0||r===Nt.SIZE_ORDER.length-1?this.sizes?this.sizes.full.source_url:"":this.getSize(Nt.SIZE_ORDER[r+1])}get url(){switch(this.type){case"image":return this.full;case"video":return this._url}}get thumbnail(){return this.getSize("thumbnail")}get medium(){return this.getSize("medium")}get large(){return this.getSize("large")}get full(){return this.getSize("full")}get altText(){return this.alt}}const Rt=({onChange:e,urlAttribute:r="",type:n="image",label:o,size:i="full",fallbackSize:s="full",altText:a="",className:l=""})=>{const[c,u]=(0,xt.useState)(r),[d,h]=(0,xt.useState)(0);return(0,Pe.createElement)(vt,{className:ft("flex flex-col gap-4 py-4 flex-grow",l)},o?(0,Pe.createElement)(pt,{level:"3"},o):null,(0,Pe.createElement)(mt.MediaUploadCheck,{fallback:(0,Pe.createElement)(bt,null,"You are not permitted to upload media.")},(0,Pe.createElement)(mt.MediaUpload,{onSelect:async r=>{if("audio"===n)return;if("video"===n)return t("video url: ",r.url),e(r.url),u(r.url),void h(r.id);const o=new Nt(r.id,"image",a||void 0);await o.doubleCheckSizes(),e(o.getSize(i,s),o.altText),u(r.url),h(r.id)},allowedTypes:[n],multiple:!1,value:d,render:({open:e})=>(0,Pe.createElement)(Ct,{onAdd:e,className:"csek-button",label:`Choose ${n}`})})),(0,Pe.createElement)(pt,{level:"4"},(f=n).charAt(0).toUpperCase()+f.slice(1)," preview"),(()=>{switch(n){case"image":return(0,Pe.createElement)("img",{className:"preview-image",src:c});case"video":return(0,Pe.createElement)("video",{className:"preview-image",controls:!0,autoPlay:!1,loop:!1,muted:!1},(0,Pe.createElement)("source",{src:c}));case"audio":return(0,Pe.createElement)("audio",{controls:!0},(0,Pe.createElement)("source",{src:c}));default:return(0,Pe.createElement)(Pe.Fragment,null)}})());var f};class _t extends u{processBlocks=[];observers=[];stepObservers=[];isScrolling=!1;constructor(){super(),this.name="ProcessBlock",this.blockObserverOptions={root:null,rootMargin:"-50%",threshold:0},this.stepObserverOptions={root:null,rootMargin:"-50%",threshold:0}}setup(){this.debug=!0,this.blocks=document.querySelectorAll(".wp-block-guten-csek-process-block"),this.invalid(this.blocks)?this.err("No process blocks found"):(this.prepareProcessBlocks(),this.prepareObservers(),this.isInitialized=!0)}prepareProcessBlocks(){this.blocks.forEach((e=>{const t=[],r=e.querySelector(".process-image"),n=e.querySelector(".process-title");e.querySelectorAll(".step").forEach((e=>{var r,n;const o=e.querySelector("h2"),i=e.querySelector("p"),s=e.querySelector("img");if(this.invalid(o))return void this.err("Invalid step element");const a={title:o.textContent||"",description:i.textContent||"",imageUrl:s&&null!==(r=s.src)&&void 0!==r?r:"",imageAlt:s&&null!==(n=s.alt)&&void 0!==n?n:""};t.push(a)}));const o={block:e,steps:t,processImage:r,processTitle:n};this.processBlocks.push(o)}))}prepareObservers(){this.processBlocks.forEach((e=>{const{block:t}=e,r=new IntersectionObserver((t=>{t.forEach((t=>t.isIntersecting?this.onBlockEnterViewport(e):this.onBlockLeaveViewport(e)))}),this.blockObserverOptions);r.observe(t),this.observers.push(r);const n=t.querySelectorAll(".step"),o=[];n.forEach(((t,r)=>{const n=new IntersectionObserver((t=>{t.forEach((t=>{const{target:n}=t;return this.log("Step observer fired for step",r),t.isIntersecting&&n!==this.lastIntersetingStep?this.onStepEnterViewport(e,n,r):t.isIntersecting||n!==this.lastIntersetingStep?void 0:this.onStepLeaveViewport(e,n,r)}))}),this.stepObserverOptions);n.observe(t),o.push(n)})),e.stepObservers=o}))}updateProcessTitle(e,t){const{processTitle:r}=e;r.querySelectorAll(".right-digit").forEach(((e,r)=>{r===t+1?e.classList.add("active"):e.classList.remove("active")}))}updateProcessImage(e,t){const{processImage:r}=e,{imageUrl:n,imageAlt:o}=e.steps[t],i=r.querySelectorAll("img");this.log("Found images",i.length,"for step",t,"with url",n,"and alt",o),i.forEach(((e,r)=>{this.log("Updating image",r,n,o),r===t?e.classList.add("active"):e.classList.remove("active")}))}onBlockEnterViewport(e){document.body.classList.add("snap-scroll"),e.processTitle.classList.add("appear")}onBlockLeaveViewport(e){document.body.classList.remove("snap-scroll"),e.processTitle.classList.remove("appear")}onStepEnterViewport(e,t,r){if(t===this.lastIntersetingStep)return;const n=r;this.log(`Step ${r+1} is visible`),this.scrollTargetTop=t.getBoundingClientRect().top+window.scrollY,this.lastIntersetingStep=t,this.updateProcessImage(e,n),this.updateProcessTitle(e,n)}onStepLeaveViewport(e,t,r){const{processTitle:n}=e;this.log(`Step ${r+1} is not visible`),this.scrollTargetTop=void 0,this.lastIntersetingStep=void 0}scroll(e){this.scrollTimeout&&window.clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout((()=>{this.log("Scroll timeout"),this.scrollTimeout=void 0,this.scrollTargetTop&&window.scrollTo({top:this.scrollTargetTop,behavior:"smooth"})}),500)}onMouseMove(e,t){}static editComponent({attributes:e,setAttributes:t}){const r=(0,mt.useBlockProps)(),{steps:n}=e,o=n.map(((e,r)=>{const{title:o,description:i,imageUrl:s}=e;return(0,Pe.createElement)(vt,{className:"flex flex-col gap-2"},(0,Pe.createElement)(pt,{level:"3",className:"text-2xl flex flex-row justify-between"},"Step ",r+1,(0,Pe.createElement)(Pt,{label:"Remove Step",onDelete:()=>(e=>{const r=[...n];r.splice(e,1),t({steps:r})})(r)})),(0,Pe.createElement)("div",{className:"flex flex-row gap-2"},(0,Pe.createElement)(Rt,{label:"Featured Image",urlAttribute:s,onChange:(e,o)=>(async(e,r,o)=>{const i=[...n];i[o].imageUrl=e,t({steps:i})})(e,0,r),size:"large"}),(0,Pe.createElement)(vt,{className:"flex flex-col gap-2 basis-full"},(0,Pe.createElement)(yt,{label:"Step Title",initialValue:o,onChange:e=>((e,r)=>{const o=[...n];o[r].title=e,t({steps:o})})(e,r)}),(0,Pe.createElement)(wt,{label:"Step Description",initialValue:i,className:"h-full",onChange:e=>((e,r)=>{const o=[...n];o[r].description=e,t({steps:o})})(e,r)}))))}));return(0,Pe.createElement)("section",{...r,className:"csek-block"},(0,Pe.createElement)(gt,null,"Csek Process Block"),o,(0,Pe.createElement)(Ct,{label:"Add Step",onAdd:()=>{const e=[...n];e.push({title:"",description:"",imageUrl:"",imageAlt:""}),t({steps:e})}}))}static saveComponent({attributes:e}){const t=mt.useBlockProps.save(),{steps:r}=e,n=[(0,Pe.createElement)("span",{className:"right-digit appear",key:0},"0")],o=[],i=r.map(((e,t)=>{const{title:r,description:i,imageUrl:s,imageAlt:a}=e;return n.push((0,Pe.createElement)("span",{className:"right-digit",key:t+1},t+1)),o.push((0,Pe.createElement)("img",{src:s,key:t,alt:a})),(0,Pe.createElement)("section",{className:"step"},(0,Pe.createElement)("h2",null,r),(0,Pe.createElement)("p",null,i))}));return(0,Pe.createElement)("section",{...t},(0,Pe.createElement)("h1",{className:"process-title"},(0,Pe.createElement)("span",{className:"left-digit"},"0"),(0,Pe.createElement)("div",{className:"right-digits"},n)),(0,Pe.createElement)("div",{className:"block-content"},(0,Pe.createElement)("div",{className:"process-image"},o),(0,Pe.createElement)("div",{className:"process-steps"},i)))}}let At=function(e){return e[e.SQUARE=0]="SQUARE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}({});class qt{static shapeWeights={[At.SQUARE]:3,[At.UP]:1,[At.DOWN]:1,[At.LEFT]:1,[At.RIGHT]:1};static weightedShapes=Object.keys(At).filter((e=>isNaN(Number(e)))).map((e=>{const t=At[e],r=[],n=qt.shapeWeights[t];for(let t=0;t<n;t++)r.push(At[e]);return r})).flat();constructor(e=0,t=0,r=At.SQUARE){this.row=e,this.col=t,this.orientation=r}randomizeDirection(){const e=Math.floor(Math.random()*qt.weightedShapes.length);this.orientation=qt.weightedShapes[e]}get dir(){return this.orientation}set dir(e){this.orientation=e}get r(){return this.row}set r(e){this.row=e}get c(){return this.col}set c(e){this.col=e}toString(){switch(this.orientation){case At.SQUARE:return"☐";case At.UP:return"↑";case At.DOWN:return"↓";case At.LEFT:return"←";case At.RIGHT:return"→"}}}function Bt(e){if(!e)return"[X]";const t=["["];return e[At.SQUARE]&&t.push("☐"),e[At.UP]&&t.push("↑"),e[At.DOWN]&&t.push("↓"),e[At.LEFT]&&t.push("←"),e[At.RIGHT]&&t.push("→"),t.push("]"),t.join("")}class Dt{debug=!0;bricks=[];gridState=[];gridSpiral=[];exclusions=new Set;constructor(e=1,t=1){this.rows=e,this.cols=t;for(let r=0;r<e;r++){this.gridState[r]=[];for(let e=0;e<t;e++)this.gridState[r][e]=-1}this.gridSpiral=this.getGridSnake()}placeBricks(e){this.log(`Attempting to place ${e} bricks...`);for(let t=0;t<e;t++)this.log(`Trying to place brick #${t+1}...`),this.addBrick();this.log(`Placed ${this.bricks.length}/${e} bricks`)}displayAllowances(){this.gridSpiral.forEach((({r:e,c:t,allowed:r},n)=>{this.log(`${n}.\t[${e},${t}]:`,Bt(r))}))}excludeCell(e,t){this.exclusions.add(`${e},${t}`)}brickData(){this.bricks.forEach(((e,t)=>{this.log(`${t}.`.padEnd(4," ")+`(${e.r}, ${e.c}) ${e.toString()}`)}))}calculateCSSGridCoords(){const e=[];return this.bricks.forEach((t=>{const{r,c:n}=t,{dir:o}=t,i=r+1,s=n+1;switch(o){case At.SQUARE:e.push({size:"square",rowStart:i,rowEnd:i+1,colStart:s,colEnd:s+1});break;case At.UP:e.push({size:"tall",rowStart:i-1,rowEnd:i+1,colStart:s,colEnd:s+1});break;case At.DOWN:e.push({size:"tall",rowStart:i,rowEnd:i+2,colStart:s,colEnd:s+1});break;case At.LEFT:e.push({size:"wide",rowStart:i,rowEnd:i+1,colStart:s-1,colEnd:s+1});break;case At.RIGHT:e.push({size:"wide",rowStart:i,rowEnd:i+1,colStart:s,colEnd:s+2})}})),e}numRowsNeeded=()=>this.bricks.reduce(((e,t)=>Math.max(e,t.r+1)),0);isExcluded(e,t){return this.exclusions.has(`${e},${t}`)}getGridSnake(){const e=[];for(let t=0;t<this.rows;t++)if(t%2==0)for(let r=0;r<this.cols;r++){const n={r:t,c:r};e.push(n)}else if(t%2!=0)for(let r=this.cols-1;r>=0;r--){const n={r:t,c:r};e.push(n)}return e}getGridSprial(){const e={r:Math.floor(Math.min(this.rows,this.cols)/2),c:Math.floor(this.cols/2)},t=new Set([e.toString()]),r=[{r:-1,c:0},{r:0,c:1},{r:1,c:0},{r:0,c:-1}],n=[e];let o=0,i=1,s=0,a=0,l={...e};for(;t.size<this.rows*this.cols;){const{r:e,c}=r[o],u={r:l.r+e,c:l.c+c};u.r>=0&&u.r<this.rows&&u.c>=0&&u.c<this.cols&&!t.has(`${u.r},${u.c}`)?(l=u,t.add(`${l.r},${l.c}`),s++,s===i&&(s=0,o=(o+1)%4,a++,a%2==0&&i++)):o=(o+1)%4;const d=this.computeCellCompatibility(l);if(l.allowed=d,n.push(l),0==l.r&&0==l.c)break}for(let e=this.cols;e<this.rows;e++)if(e%2==0)for(let t=0;t<this.cols;t++){const r={r:e,c:t};n.push(r)}else if(e%2!=0)for(let t=this.cols-1;t>=0;t--){const r={r:e,c:t};n.push(r)}return n}computeCellCompatibility(e){const{r:t,c:r}=e,n={[At.SQUARE]:!0,[At.UP]:!0,[At.DOWN]:!0,[At.LEFT]:!0,[At.RIGHT]:!0},o=[At.UP,At.DOWN],i=[At.LEFT,At.RIGHT],{up:s,down:a,left:l,right:c}=this.getSurroundingBricks(t,r);return s&&(n[At.UP]=!1,n[At.DOWN]=!o.includes(s.dir)),a&&(n[At.UP]=!o.includes(a.dir)&&n[At.UP],n[At.DOWN]=!1),l&&(n[At.LEFT]=!1,n[At.RIGHT]=!i.includes(l.dir)),c&&(n[At.LEFT]=!i.includes(c.dir)&&n[At.LEFT],n[At.RIGHT]=!1),s&&a&&(n[At.SQUARE]=s.dir!==At.SQUARE&&a.dir!==At.SQUARE),l&&c&&(n[At.SQUARE]=l.dir!==At.SQUARE&&c.dir!==At.SQUARE),0===t&&(n[At.UP]=!1),t===this.rows-1&&(n[At.DOWN]=!1),0===r&&(n[At.LEFT]=!1),r===this.cols-1&&(n[At.RIGHT]=!1),n}addBrick(){const e=new qt;e.randomizeDirection();for(let t=0;t<this.gridSpiral.length;t++){const r=this.gridSpiral[t];if(!this.containsBrick(r.r,r.c)&&!this.isExcluded(r.r,r.c)&&(r.allowed=this.computeCellCompatibility(r),this.log(`\t(${e.toString()}) at [${r.r},${r.c}] =>`,Bt(r.allowed)),this.gridSpiral[t].allowed=r.allowed,r.allowed[e.dir]))return this.log(`\t✔ Placed ${this.bricks.length} (${e.toString()}) at [${r.r},${r.c}]`),e.r=r.r,e.c=r.c,this.placeBrick(r.r,r.c,e)}}placeBrick(e,t,r){const n=this.bricks.length;switch(this.gridState[e][t]=this.bricks.length,r.dir){case At.SQUARE:break;case At.UP:this.gridState[e-1][t]=n;break;case At.DOWN:this.gridState[e+1][t]=n;break;case At.LEFT:this.gridState[e][t-1]=n;break;case At.RIGHT:this.gridState[e][t+1]=n}return this.bricks.push(r),r}getSurroundingBricks(e,t){const r={center:this.getBrickAt(e,t)};return e>0&&(r.up=this.getBrickAt(e-1,t)),e<this.rows-1&&(r.down=this.getBrickAt(e+1,t)),t>0&&(r.left=this.getBrickAt(e,t-1)),t<this.cols-1&&(r.right=this.getBrickAt(e,t+1)),r}getBrickAt(e,t){return this.bricks[this.gridState[e][t]]}containsBrick(e,t){return-1!==this.gridState[e][t]}log(...e){this.debug&&t("[MasonryGrid]",...e)}getBricks(){return this.bricks}get width(){return this.cols}get height(){return this.rows}toString(){let e="";for(let t=0;t<this.rows;t++)e+=this.gridState[t].map((e=>(-1===e?"⬚":e.toString()).padStart(2," "))).join(" ")+"\n";return e}static calculateGridHeight(e,r){return t({columnCount:e,brickCount:r},`ceil(log2(${r} / ${e} * ${r} * 2) + 1)`),Math.ceil(Math.log2(r/e*r*2)+1)}}class zt{debug=!1;constructor(e){this.block=e;const t=e.querySelector(".projects-grid");t?this.gridArea=t:(this.gridArea=document.createElement("div"),this.gridArea.classList.add("projects-grid")),this.projectsData=[]}setup(){console.warn(this.gridArea.dataset),this.category=parseInt(this.gridArea.dataset.category||"-1"),async function(e){const t=[],r=await It(void 0,[null!=e?e:-1]);for(const e of r)if(e.featuredImage){const r={id:e.id,title:v(e.title),link:e.url,featuredImageUrl:e.featuredImage.large};t.push(r)}return t}(this.category).then((e=>{this.projectsData=e;const r=this.gridArea.dataset.gridrows||"-1",n=this.gridArea.dataset.gridcols||"3",o=parseInt(n);"-1"===r&&console.warn("No grid rows specified, using:",Dt.calculateGridHeight(o,e.length)),this.gridRows="-1"!==r?parseInt(r):Dt.calculateGridHeight(o,e.length),this.gridCols=o,t(this.projectsData),this.calculateMasonry(),this.createSurroundingDivs()}))}calculateMasonry(){const e=this.projectsData.length;this.masonryGrid=new Dt(this.gridRows,this.gridCols),this.masonryGrid.debug=this.debug,this.masonryGrid.placeBricks(e),t(this.masonryGrid.toString())}createSurroundingDivs(){const e=this.masonryGrid.calculateCSSGridCoords();this.gridArea.style.setProperty("--num-rows",this.masonryGrid.numRowsNeeded().toString()),this.gridArea.style.setProperty("--num-cols",this.masonryGrid.width.toString()),this.projectsData.forEach(((t,r)=>{const o=e[r];if(!o)return void n(`No coords for index ${r} (project ${t.title})`);const i=document.createElement("div");i.classList.add("project-brick"),i.classList.add(o.size),i.style.gridColumnStart=o.colStart.toString(),i.style.gridColumnEnd=o.colEnd.toString(),i.style.gridRowStart=o.rowStart.toString(),i.style.gridRowEnd=o.rowEnd.toString();const s=document.createElement("a");s.href=t.link,s.style.animationDelay=133*r+"ms";const a=document.createElement("span");a.innerHTML=t.title;const l=document.createElement("img");l.src=t.featuredImageUrl,l.alt=t.title,s.appendChild(l),s.appendChild(a),i.appendChild(s),this.gridArea.appendChild(i)}))}static editComponent=({attributes:e,setAttributes:t})=>{const r=(0,mt.useBlockProps)(),{categoryId:n,category:o,amount:i,gridColumns:s,gridRows:a}=e,[l,c]=(0,Pe.useState)([]),[u,d]=(0,Pe.useState)(n),[h,f]=(0,Pe.useState)("");return(0,Pe.useEffect)((()=>{(async function(){try{const e=await fetch("/wp-json/wp/v2/categories?context=view"),t=await e.json(),r=[],n=new Set;return t.forEach((e=>{0===e.parent&&n.add({id:e.id,name:e.name,slug:e.slug,description:e.description,url:e.link})})),t.forEach((e=>{if(0!==e.parent){const t=[...n].find((t=>t.id===e.parent));t&&(t.children||(t.children=[]),t.children.push({id:e.id,name:e.name,slug:e.slug,description:e.description,url:e.link}))}})),n.forEach((e=>{r.push(e)})),r}catch(e){console.error(e)}return[]})().then((e=>{c(e),o||d(e[0].id)}))}),[]),(0,Pe.createElement)("section",{...r},(0,Pe.createElement)(gt,null,"Posts Masonry Block"),(0,Pe.createElement)(vt,{className:"flex flex-row gap-2"},0===l.length?(0,Pe.createElement)("p",null,"Loading categories..."):(0,Pe.createElement)(kt,{label:"Category",hint:"This is the parent category for the posts to be displayed. The categories shown to the user will be subcategories of this category.",options:l.map((e=>({label:e.name,value:e.slug}))),onChange:e=>{var r;const n=null!==(r=function(e,t){const r=e.find((e=>e.slug===t));return r?.id}(l,e))&&void 0!==r?r:-1;d(n),f(e),t({categoryId:n,category:null!=e?e:"projects"})},initialValue:h}),(0,Pe.createElement)(kt,{options:[{value:"1",label:"1"},{value:"3",label:"3"},{value:"5",label:"5"}],label:"Grid Columns",initialValue:s.toString(),onChange:e=>t({gridColumns:parseInt(e)})})))};static saveComponent=({attributes:e})=>{const t=mt.useBlockProps.save(),{categoryId:r,category:n,amount:o,gridColumns:i,gridRows:s}=e;return(0,Pe.createElement)("section",{...t},(0,Pe.createElement)("div",{className:"projects-grid","data-gridcols":i,"data-gridrows":s,"data-category":r}))}}class Ft extends u{constructor(){super(),this.name="Csek Projects Masonry Block",this.masonryBlocks=[]}setup(){this.debug=!0,this.blocks=document.querySelectorAll(".wp-block-guten-csek-projects-masonry-block"),this.invalid(this.blocks.length)?this.err("No blocks found"):(this.blocks.forEach((e=>{const t=new zt(e);t.debug=this.debug,t.setup(),this.masonryBlocks.push(t)})),this.isInitialized=!0)}onMouseMove(e,t){}}class $t{constructor(e){this.block=e,this.category=-1,this.currentCategory=-1,this.posts=[],this.tags=[],this.relatedPosts=[]}async setup(){var e,t;this.category=parseInt(null!==(e=this.block.dataset.chosenCategory)&&void 0!==e?e:"-1"),this.tags=JSON.parse(this.block.dataset.foundTags||"[]"),this.postCount=parseInt(null!==(t=this.block.dataset.postCount)&&void 0!==t?t:"6"),this.posts=await It(void 0,[this.category]),this.categories=await this.fetchCategories(),this.catLinkList=this.block.querySelector(".tag-nav ul"),await this.buildCategoryLinks();for(const e of this.posts){const t=await Ot(e),r={tags:e.tags,categories:e.categories,dom:t,post:e};this.relatedPosts.push(r)}this.catLinks=this.block.querySelectorAll(".tag-nav ul li a"),this.relatedPostsArea=this.block.querySelector(".collage-related-posts"),this.relatedPostsArea.addEventListener("transitionend",(e=>{const t=e.target;if(!t||t.classList.contains(".collage-related-posts")||"opacity"!==e.propertyName||"0"!==t.style.opacity)return;this.relatedPostsArea.innerHTML="";for(const e of this.relatedPosts)-1===this.currentCategory||e.categories.includes(this.currentCategory)?e.dom.style.display="block":e.dom.style.display="none";const r=this.relatedPosts.filter((e=>"block"===e.dom.style.display));this.buildPostsGrid(r).then((e=>{t.append(...e),t.style.opacity="1"}))})),this.catLinks.forEach(((e,t)=>{0===t&&e.classList.add("chosen"),e.addEventListener("click",(async t=>{var r;t.preventDefault();const n=parseInt(null!==(r=e.dataset.tagId)&&void 0!==r?r:"-1");this.currentCategory=n,await this.update()}))})),await this.update()}async update(){this.log("updating..."),this.relatedPostsArea.style.opacity="0",this.catLinks.forEach((e=>{var t;parseInt(null!==(t=e.dataset.tagId)&&void 0!==t?t:"-1")===this.currentCategory?e.classList.add("chosen"):e.classList.remove("chosen")}))}async fetchCategories(){const e=await async function(e){try{const t=e>-1?`&parent=${e}`:"",r=await fetch(`/wp-json/wp/v2/categories?context=view${t}`),n=await r.json(),o=[];return n.forEach((e=>{o.push({id:e.id,name:e.name,slug:e.slug,description:e.description,url:e.link})})),o}catch(e){console.error(e)}}(this.category);return e?(t("Post categories",e),e):[]}async createRelatedPostGrid(e){function t(e){return e.hasOwnProperty("dom")}const r=document.createElement("div");r.classList.add("related-posts-grid");for(const n of e){if(t(n)){r.appendChild(n.dom);continue}const e=await Ot(n);r.appendChild(e)}return r}async createFeaturedPost(e){const t=document.createElement("div");t.classList.add("featured-post");const r=document.createElement("div");r.classList.add("inner"),r.style.backgroundImage=`url(${v(e.featuredImage.full)})`,this.posts.length>this.postCount?r.classList.add("visible"):r.classList.remove("visible");const n=document.createElement("div");n.classList.add("featured-content");const o=document.createElement("a");o.href=e.url;const i=document.createElement("h2");i.classList.add("title"),i.innerHTML=e.title,o.appendChild(i);const s=document.createElement("div");s.classList.add("read-time"),s.innerHTML=`${e.readTime} min read`;const a=document.createElement("div");return a.classList.add("tags"),a.append(...await Lt(e)),n.append(o,s,a),r.appendChild(n),t.appendChild(r),t}async buildPostsGrid(e){this.log("building posts grid...");const t=[];if(e.length>this.postCount){const r=await this.createRelatedPostGrid(e.slice(0,this.postCount));t.push(r);const n=await this.createFeaturedPost(e[Math.floor(Math.random()*e.length)].post);t.push(n);const o=await this.createRelatedPostGrid(e.slice(this.postCount));t.push(o)}else{const r=await this.createRelatedPostGrid(e);t.push(r)}return t}async buildCategoryLinks(){this.log("building category links...");const e=[];for(const t of this.categories){const r=document.createElement("li"),n=document.createElement("a");n.href="#"+t.slug,n.innerText=v(t.name),n.dataset.tagId=t.id.toString(),r.appendChild(n),e.push(r)}this.catLinkList.append(...e)}log(...e){t("[PostCollageBlock]",...e)}}class Ht extends u{constructor(){super(),this.name="PostCollageBlock",this.collageBlocks=[]}setup(){this.debug=!0,this.blocks=document.querySelectorAll(".wp-block-guten-csek-post-collage-block"),this.invalid(this.blocks.length)?this.err("No blocks found"):(this.blocks.forEach((e=>{const t=new $t(e);this.collageBlocks.push(t)})),this.collageBlocks.forEach(((e,t)=>{this.log(`Setting up collage block ${t}`),e.setup()})),this.isInitialized=!0)}async setupBlocks(){for(const e of this.collageBlocks)await e.setup()}onMouseMove(e,t){}}window.addEventListener("load",(e=>{t("[Csek Creative] Window loaded."),(()=>{t("Accumulators..."),document.querySelectorAll(".js-accumulator").forEach((e=>{const t=((e,t="js-accumulator-number")=>e.replace(/\d+/g,(e=>`<span class="${t}">${e}</span>`)))(e.innerText);e.innerHTML=t}));const e=document.querySelectorAll(".js-accumulator-number"),r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(t("Number is visible..."),setTimeout((()=>{const t=e.target,n=parseInt(t.innerText,10),o=Math.ceil(n/33.333);let i=0;const s=setInterval((()=>{i+=o,t.innerText=i.toString(),i>=n&&(clearInterval(s),t.innerText=n.toString())}),32);r.unobserve(t)}),100))}))}));e.forEach((e=>{r.observe(e)}))})(),window.domController=(()=>{const e=new we,t=new p("scroll-down",".header-scroll-down-target"),r=new b(".wp-block-guten-csek-horizontal-carousel-block"),n=new de(".wp-block-guten-csek-video-carousel-block"),o=new ye(".wp-block-guten-csek-scrolling-projects-block"),i=new he(".wp-block-guten-csek-expanding-video-block"),s=new ke,a=new xe(".wp-block-guten-csek-next-project-block"),l=new Ee(".wp-block-guten-csek-featured-video-block"),c=new Se(".wp-block-guten-csek-staff-profiles-block"),u=new Ce,h=new _t,f=new Ft,g=new Ht;return new d(e,t,n,o,i,r,a,l,c,u,s,h,f,g)})(),window.requestAnimationFrame((()=>{window.domController.setup(),window.domController.debugMode=!0})),setTimeout((()=>{window.domController.isStarted&&window.domController||window.domController.hideLoadingPanel()}),1e3)}))})()})();